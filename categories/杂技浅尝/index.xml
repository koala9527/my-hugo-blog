<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>杂技浅尝 on Example Site</title><link>https://blog.tuwei.space/categories/%E6%9D%82%E6%8A%80%E6%B5%85%E5%B0%9D/</link><description>Recent content in 杂技浅尝 on Example Site</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Thu, 29 Feb 2024 22:08:00 +0800</lastBuildDate><atom:link href="https://blog.tuwei.space/categories/%E6%9D%82%E6%8A%80%E6%B5%85%E5%B0%9D/index.xml" rel="self" type="application/rss+xml"/><item><title>分享我搜集到的ChatGPT4.0的一些免费站点</title><link>https://blog.tuwei.space/p/%E5%88%86%E4%BA%AB%E6%88%91%E6%90%9C%E9%9B%86%E5%88%B0%E7%9A%84chatgpt4.0%E7%9A%84%E4%B8%80%E4%BA%9B%E5%85%8D%E8%B4%B9%E7%AB%99%E7%82%B9/</link><pubDate>Thu, 29 Feb 2024 22:08:00 +0800</pubDate><guid>https://blog.tuwei.space/p/%E5%88%86%E4%BA%AB%E6%88%91%E6%90%9C%E9%9B%86%E5%88%B0%E7%9A%84chatgpt4.0%E7%9A%84%E4%B8%80%E4%BA%9B%E5%85%8D%E8%B4%B9%E7%AB%99%E7%82%B9/</guid><description>&lt;img src="https://blog.tuwei.space/p/%E5%88%86%E4%BA%AB%E6%88%91%E6%90%9C%E9%9B%86%E5%88%B0%E7%9A%84chatgpt4.0%E7%9A%84%E4%B8%80%E4%BA%9B%E5%85%8D%E8%B4%B9%E7%AB%99%E7%82%B9/title.png" alt="Featured image of post 分享我搜集到的ChatGPT4.0的一些免费站点" />&lt;h1 id="前言">前言
&lt;/h1>&lt;p>前面几篇分享了一下怎么搭建私有的ChatGPT网页应用，后台收到了很多同学的私信，相信已经在使用了，今天继续分享我找到的公益ChatGPT4.0模型网页应用。&lt;/p>
&lt;p>用了很久的ChatGPT3.5模型，作为日常工作我觉得已经够用了，我个人觉得比国内的文心一言、通义千问以及讯飞星火大模型都更好用。&lt;/p>
&lt;p>个人觉得ChatGPT3.5比更强大的只有ChatGPT4.0了， ChatGPT4.0早在2023年3月15就推出来了，ChatGPT4.0 比ChatGPT3.5能更准确地理解用户输入，并生成更合理、连贯的回应，能够更好地理解上下文信息，准确捕捉用户的意图，因此产生的回答更符合语境，让用户能够更轻松地获取准确、有意义的信息。&lt;/p>
&lt;p>我自己搭建的ChatGPT3.5私有ChatGPT网页应用已经分享给很多人使用了，好多人都在问我想要合租ChatGPT4，想体验最强的‘科技’。&lt;/p>
&lt;p>目前常规手段使用ChatGPT4.0 就是通过OpenAI 官网进行付费订阅，但是对于普通来说价格来说价格还是挺贵的，&lt;/p>
&lt;p>&lt;img src="https://blog.tuwei.space/p/%E5%88%86%E4%BA%AB%E6%88%91%E6%90%9C%E9%9B%86%E5%88%B0%E7%9A%84chatgpt4.0%E7%9A%84%E4%B8%80%E4%BA%9B%E5%85%8D%E8%B4%B9%E7%AB%99%E7%82%B9/img.png"
width="1345"
height="915"
srcset="https://blog.tuwei.space/p/%E5%88%86%E4%BA%AB%E6%88%91%E6%90%9C%E9%9B%86%E5%88%B0%E7%9A%84chatgpt4.0%E7%9A%84%E4%B8%80%E4%BA%9B%E5%85%8D%E8%B4%B9%E7%AB%99%E7%82%B9/img_hub9d1efa71e2f901f3d516c45e35b9243_86862_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E5%88%86%E4%BA%AB%E6%88%91%E6%90%9C%E9%9B%86%E5%88%B0%E7%9A%84chatgpt4.0%E7%9A%84%E4%B8%80%E4%BA%9B%E5%85%8D%E8%B4%B9%E7%AB%99%E7%82%B9/img_hub9d1efa71e2f901f3d516c45e35b9243_86862_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img.png"
class="gallery-image"
data-flex-grow="146"
data-flex-basis="352px"
>
20美元一个月，按照当前美元的汇率，一个月需要140+元人民币，个人觉得辅助工作还是没必要充值的。那怎么最低成本用到这个ChatGPT4.0&lt;/p>
&lt;h1 id="分享">分享
&lt;/h1>&lt;p>我发现了很多跟我一样ChatGPT3.5做免费站点的，我在想肯定也有人做ChatGPT4.0的免费站点的，最终花了一些时间发现在这个网站里面有很多分享：&lt;/p>
&lt;p>&lt;a class="link" href="https://linux.do/" target="_blank" rel="noopener"
>https://linux.do/&lt;/a>
首页 热门 菜单选项里面有很多介绍帖子
&lt;img src="https://blog.tuwei.space/p/%E5%88%86%E4%BA%AB%E6%88%91%E6%90%9C%E9%9B%86%E5%88%B0%E7%9A%84chatgpt4.0%E7%9A%84%E4%B8%80%E4%BA%9B%E5%85%8D%E8%B4%B9%E7%AB%99%E7%82%B9/img_1.png"
width="2755"
height="1836"
srcset="https://blog.tuwei.space/p/%E5%88%86%E4%BA%AB%E6%88%91%E6%90%9C%E9%9B%86%E5%88%B0%E7%9A%84chatgpt4.0%E7%9A%84%E4%B8%80%E4%BA%9B%E5%85%8D%E8%B4%B9%E7%AB%99%E7%82%B9/img_1_hu5d028b7df111236b6826f81db40ca243_369690_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E5%88%86%E4%BA%AB%E6%88%91%E6%90%9C%E9%9B%86%E5%88%B0%E7%9A%84chatgpt4.0%E7%9A%84%E4%B8%80%E4%BA%9B%E5%85%8D%E8%B4%B9%E7%AB%99%E7%82%B9/img_1_hu5d028b7df111236b6826f81db40ca243_369690_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_1.png"
class="gallery-image"
data-flex-grow="150"
data-flex-basis="360px"
>
这个网站无需登录就可以访问帖子详情，我找到一个综合测评类型的帖子，找出来几个我自己常用比较稳定的网站 粘贴到这里（看到贴子升级到1级 就能看到一个精华神贴的类别，就会发现更多分享类似网站的帖子。）&lt;/p>
&lt;p>&lt;img src="https://blog.tuwei.space/p/%E5%88%86%E4%BA%AB%E6%88%91%E6%90%9C%E9%9B%86%E5%88%B0%E7%9A%84chatgpt4.0%E7%9A%84%E4%B8%80%E4%BA%9B%E5%85%8D%E8%B4%B9%E7%AB%99%E7%82%B9/img_2.png"
width="1843"
height="1599"
srcset="https://blog.tuwei.space/p/%E5%88%86%E4%BA%AB%E6%88%91%E6%90%9C%E9%9B%86%E5%88%B0%E7%9A%84chatgpt4.0%E7%9A%84%E4%B8%80%E4%BA%9B%E5%85%8D%E8%B4%B9%E7%AB%99%E7%82%B9/img_2_hu770fc28cb9328779a1128e8f7f38fe52_382630_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E5%88%86%E4%BA%AB%E6%88%91%E6%90%9C%E9%9B%86%E5%88%B0%E7%9A%84chatgpt4.0%E7%9A%84%E4%B8%80%E4%BA%9B%E5%85%8D%E8%B4%B9%E7%AB%99%E7%82%B9/img_2_hu770fc28cb9328779a1128e8f7f38fe52_382630_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_2.png"
class="gallery-image"
data-flex-grow="115"
data-flex-basis="276px"
>&lt;/p>
&lt;p>&lt;a class="link" href="https://sharedchat.cn/shared.html" target="_blank" rel="noopener"
>https://sharedchat.cn/shared.html&lt;/a> （热度最高，人比较多，访问比较慢，稳定性还行，高度模仿官网，可以上传图片，excel等资源）&lt;/p>
&lt;p>&lt;a class="link" href="http://free01.xyz/" target="_blank" rel="noopener"
>http://free01.xyz/&lt;/a> (实时更新的分流站点，部署位置节点比较远，访问比较慢)
&lt;a class="link" href="https://chat.gking.me" target="_blank" rel="noopener"
>https://chat.gking.me&lt;/a> （界面不怎么好看，使用人比较少，访问比较慢，需要自己切换4.0）&lt;/p>
&lt;p>&lt;a class="link" href="http://w10.xjai.cc" target="_blank" rel="noopener"
>http://w10.xjai.cc&lt;/a> （推荐，速度很快，默认就是 gpt4, 额度有限，可能会临时切回3.5）&lt;/p>
&lt;p>区分ChatGPT是3.0还是4.0 最简单的方法就是 问它 “鲁迅和周树人是一个人吗？” ChatGPT4.0会说是。ChatGPT3.5会说不是。 还有一些弱智吧的问题，ChatGPT4.0 大多数就不会落入人类的“陷阱”。
&lt;img src="https://blog.tuwei.space/p/%E5%88%86%E4%BA%AB%E6%88%91%E6%90%9C%E9%9B%86%E5%88%B0%E7%9A%84chatgpt4.0%E7%9A%84%E4%B8%80%E4%BA%9B%E5%85%8D%E8%B4%B9%E7%AB%99%E7%82%B9/img_3.png"
width="2182"
height="318"
srcset="https://blog.tuwei.space/p/%E5%88%86%E4%BA%AB%E6%88%91%E6%90%9C%E9%9B%86%E5%88%B0%E7%9A%84chatgpt4.0%E7%9A%84%E4%B8%80%E4%BA%9B%E5%85%8D%E8%B4%B9%E7%AB%99%E7%82%B9/img_3_hu6fa8823e41ade1b242c7eef8d9d85d31_33238_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E5%88%86%E4%BA%AB%E6%88%91%E6%90%9C%E9%9B%86%E5%88%B0%E7%9A%84chatgpt4.0%E7%9A%84%E4%B8%80%E4%BA%9B%E5%85%8D%E8%B4%B9%E7%AB%99%E7%82%B9/img_3_hu6fa8823e41ade1b242c7eef8d9d85d31_33238_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_3.png"
class="gallery-image"
data-flex-grow="686"
data-flex-basis="1646px"
>
&lt;img src="https://blog.tuwei.space/p/%E5%88%86%E4%BA%AB%E6%88%91%E6%90%9C%E9%9B%86%E5%88%B0%E7%9A%84chatgpt4.0%E7%9A%84%E4%B8%80%E4%BA%9B%E5%85%8D%E8%B4%B9%E7%AB%99%E7%82%B9/img_5.png"
width="1999"
height="318"
srcset="https://blog.tuwei.space/p/%E5%88%86%E4%BA%AB%E6%88%91%E6%90%9C%E9%9B%86%E5%88%B0%E7%9A%84chatgpt4.0%E7%9A%84%E4%B8%80%E4%BA%9B%E5%85%8D%E8%B4%B9%E7%AB%99%E7%82%B9/img_5_hu9ffe7e907aa52aaa43256508dbec3ebf_36254_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E5%88%86%E4%BA%AB%E6%88%91%E6%90%9C%E9%9B%86%E5%88%B0%E7%9A%84chatgpt4.0%E7%9A%84%E4%B8%80%E4%BA%9B%E5%85%8D%E8%B4%B9%E7%AB%99%E7%82%B9/img_5_hu9ffe7e907aa52aaa43256508dbec3ebf_36254_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_5.png"
class="gallery-image"
data-flex-grow="628"
data-flex-basis="1508px"
>&lt;/p>
&lt;h1 id="最后">最后
&lt;/h1>&lt;p>我分享的一些免费使用ChatGPT4.0免费站使用人数都比较大，可能都不怎么稳定。&lt;/p>
&lt;p>写这篇文章的时候发现GitHub上面的 Coze Discord Proxy 这个项目可以利用 Coze 的机器人 API无成本搭建私有的ChatGPT4.0 网页应用，后面我想自己搭建，到时候我也会分享出来给大家使用 ，请继续关注我哦~。
&lt;img src="https://blog.tuwei.space/p/%E5%88%86%E4%BA%AB%E6%88%91%E6%90%9C%E9%9B%86%E5%88%B0%E7%9A%84chatgpt4.0%E7%9A%84%E4%B8%80%E4%BA%9B%E5%85%8D%E8%B4%B9%E7%AB%99%E7%82%B9/img_4.png"
width="1543"
height="1089"
srcset="https://blog.tuwei.space/p/%E5%88%86%E4%BA%AB%E6%88%91%E6%90%9C%E9%9B%86%E5%88%B0%E7%9A%84chatgpt4.0%E7%9A%84%E4%B8%80%E4%BA%9B%E5%85%8D%E8%B4%B9%E7%AB%99%E7%82%B9/img_4_hua9140ecb5ec63b00efae9b8a2863140a_167079_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E5%88%86%E4%BA%AB%E6%88%91%E6%90%9C%E9%9B%86%E5%88%B0%E7%9A%84chatgpt4.0%E7%9A%84%E4%B8%80%E4%BA%9B%E5%85%8D%E8%B4%B9%E7%AB%99%E7%82%B9/img_4_hua9140ecb5ec63b00efae9b8a2863140a_167079_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_4.png"
class="gallery-image"
data-flex-grow="141"
data-flex-basis="340px"
>&lt;/p>
&lt;p>往期热点：
《OpenAI Sora已开放对外申请，大家可以申请了。 》
《大模型这么火，今天手把手教大家从搭建环境开始实现本地部署ChatGLM2 6B 大模型》
《分享一下ChatGPT相关使用技巧 》
《如何搭建一个私人 ChatGPT 网页应用》&lt;/p></description></item><item><title>被Sora抢尽了风头的Gemini怎么样? 今天分享一下如何搭建一个私人Gemini 网页应用，同样分享给大家玩一下</title><link>https://blog.tuwei.space/p/%E8%A2%ABsora%E6%8A%A2%E5%B0%BD%E4%BA%86%E9%A3%8E%E5%A4%B4%E7%9A%84gemini%E6%80%8E%E4%B9%88%E6%A0%B7-%E4%BB%8A%E5%A4%A9%E5%88%86%E4%BA%AB%E4%B8%80%E4%B8%8B%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%A7%81%E4%BA%BAgemini-%E7%BD%91%E9%A1%B5%E5%BA%94%E7%94%A8%E5%90%8C%E6%A0%B7%E5%88%86%E4%BA%AB%E7%BB%99%E5%A4%A7%E5%AE%B6%E7%8E%A9%E4%B8%80%E4%B8%8B/</link><pubDate>Thu, 29 Feb 2024 00:20:46 +0800</pubDate><guid>https://blog.tuwei.space/p/%E8%A2%ABsora%E6%8A%A2%E5%B0%BD%E4%BA%86%E9%A3%8E%E5%A4%B4%E7%9A%84gemini%E6%80%8E%E4%B9%88%E6%A0%B7-%E4%BB%8A%E5%A4%A9%E5%88%86%E4%BA%AB%E4%B8%80%E4%B8%8B%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%A7%81%E4%BA%BAgemini-%E7%BD%91%E9%A1%B5%E5%BA%94%E7%94%A8%E5%90%8C%E6%A0%B7%E5%88%86%E4%BA%AB%E7%BB%99%E5%A4%A7%E5%AE%B6%E7%8E%A9%E4%B8%80%E4%B8%8B/</guid><description>&lt;img src="https://blog.tuwei.space/chat.jpg" alt="Featured image of post 被Sora抢尽了风头的Gemini怎么样? 今天分享一下如何搭建一个私人Gemini 网页应用，同样分享给大家玩一下" />&lt;h1 id="前言">前言
&lt;/h1>&lt;p>Google 公司自己的大语言模型Bard 在2024年2月8号更名为 Gemini，但是Gemini 1.5 发布的时候被 OpenAI 的 Sora 抢尽了风头，堪称 AI 界的「汪峰」，听说Gemini有超长上下文的能力，支持 100 万token 的上下文，这里我还没测试，有兴趣的同学可以测试一下&lt;/p>
&lt;p>关于Gemini我就不过多介绍了，还是希望有兴趣以及有能力访问的人亲自可以直接访问试试更好（注意Gemini和OpenAI有一样的网络限制）：&lt;br>
&lt;a class="link" href="https://gemini.google.com/" target="_blank" rel="noopener"
>https://gemini.google.com/&lt;/a>
直接访问的使用的模型比API接口使用的模型更加聪明 还能理解图片，这可是需要付费的ChatGPT4的能力
&lt;img src="https://blog.tuwei.space/p/%E8%A2%ABsora%E6%8A%A2%E5%B0%BD%E4%BA%86%E9%A3%8E%E5%A4%B4%E7%9A%84gemini%E6%80%8E%E4%B9%88%E6%A0%B7-%E4%BB%8A%E5%A4%A9%E5%88%86%E4%BA%AB%E4%B8%80%E4%B8%8B%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%A7%81%E4%BA%BAgemini-%E7%BD%91%E9%A1%B5%E5%BA%94%E7%94%A8%E5%90%8C%E6%A0%B7%E5%88%86%E4%BA%AB%E7%BB%99%E5%A4%A7%E5%AE%B6%E7%8E%A9%E4%B8%80%E4%B8%8B/img_5.png"
width="1168"
height="1183"
srcset="https://blog.tuwei.space/p/%E8%A2%ABsora%E6%8A%A2%E5%B0%BD%E4%BA%86%E9%A3%8E%E5%A4%B4%E7%9A%84gemini%E6%80%8E%E4%B9%88%E6%A0%B7-%E4%BB%8A%E5%A4%A9%E5%88%86%E4%BA%AB%E4%B8%80%E4%B8%8B%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%A7%81%E4%BA%BAgemini-%E7%BD%91%E9%A1%B5%E5%BA%94%E7%94%A8%E5%90%8C%E6%A0%B7%E5%88%86%E4%BA%AB%E7%BB%99%E5%A4%A7%E5%AE%B6%E7%8E%A9%E4%B8%80%E4%B8%8B/img_5_huf814a9f40d51bad7a0b007807438e160_117973_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E8%A2%ABsora%E6%8A%A2%E5%B0%BD%E4%BA%86%E9%A3%8E%E5%A4%B4%E7%9A%84gemini%E6%80%8E%E4%B9%88%E6%A0%B7-%E4%BB%8A%E5%A4%A9%E5%88%86%E4%BA%AB%E4%B8%80%E4%B8%8B%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%A7%81%E4%BA%BAgemini-%E7%BD%91%E9%A1%B5%E5%BA%94%E7%94%A8%E5%90%8C%E6%A0%B7%E5%88%86%E4%BA%AB%E7%BB%99%E5%A4%A7%E5%AE%B6%E7%8E%A9%E4%B8%80%E4%B8%8B/img_5_huf814a9f40d51bad7a0b007807438e160_117973_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_5.png"
class="gallery-image"
data-flex-grow="98"
data-flex-basis="236px"
>
附带Gemini的更新日志地址，详细的介绍了这个模型的特点：&lt;br>
&lt;a class="link" href="https://gemini.google.com/updates" target="_blank" rel="noopener"
>https://gemini.google.com/updates&lt;/a>&lt;/p>
&lt;h1 id="搭建">搭建
&lt;/h1>&lt;p>话不多说开始搭建&lt;/p>
&lt;h2 id="获取api-key">获取API Key
&lt;/h2>&lt;p>两个月前谷歌向所有用户都免费开放了Gemini PRO大模型的API，只要你有一个谷歌账号就可以免费获取Gemini Pro大模型的API， 获取Key地址：
&lt;a class="link" href="https://aistudio.google.com/app/apikey" target="_blank" rel="noopener"
>https://aistudio.google.com/app/apikey&lt;/a>&lt;/p>
&lt;p>&lt;img src="https://blog.tuwei.space/p/%E8%A2%ABsora%E6%8A%A2%E5%B0%BD%E4%BA%86%E9%A3%8E%E5%A4%B4%E7%9A%84gemini%E6%80%8E%E4%B9%88%E6%A0%B7-%E4%BB%8A%E5%A4%A9%E5%88%86%E4%BA%AB%E4%B8%80%E4%B8%8B%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%A7%81%E4%BA%BAgemini-%E7%BD%91%E9%A1%B5%E5%BA%94%E7%94%A8%E5%90%8C%E6%A0%B7%E5%88%86%E4%BA%AB%E7%BB%99%E5%A4%A7%E5%AE%B6%E7%8E%A9%E4%B8%80%E4%B8%8B/img_4.png"
width="2652"
height="1237"
srcset="https://blog.tuwei.space/p/%E8%A2%ABsora%E6%8A%A2%E5%B0%BD%E4%BA%86%E9%A3%8E%E5%A4%B4%E7%9A%84gemini%E6%80%8E%E4%B9%88%E6%A0%B7-%E4%BB%8A%E5%A4%A9%E5%88%86%E4%BA%AB%E4%B8%80%E4%B8%8B%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%A7%81%E4%BA%BAgemini-%E7%BD%91%E9%A1%B5%E5%BA%94%E7%94%A8%E5%90%8C%E6%A0%B7%E5%88%86%E4%BA%AB%E7%BB%99%E5%A4%A7%E5%AE%B6%E7%8E%A9%E4%B8%80%E4%B8%8B/img_4_hu063e5c385669c2a9131564061d6f441c_133015_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E8%A2%ABsora%E6%8A%A2%E5%B0%BD%E4%BA%86%E9%A3%8E%E5%A4%B4%E7%9A%84gemini%E6%80%8E%E4%B9%88%E6%A0%B7-%E4%BB%8A%E5%A4%A9%E5%88%86%E4%BA%AB%E4%B8%80%E4%B8%8B%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%A7%81%E4%BA%BAgemini-%E7%BD%91%E9%A1%B5%E5%BA%94%E7%94%A8%E5%90%8C%E6%A0%B7%E5%88%86%E4%BA%AB%E7%BB%99%E5%A4%A7%E5%AE%B6%E7%8E%A9%E4%B8%80%E4%B8%8B/img_4_hu063e5c385669c2a9131564061d6f441c_133015_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_4.png"
class="gallery-image"
data-flex-grow="214"
data-flex-basis="514px"
>&lt;/p>
&lt;h2 id="heading">
&lt;/h2>&lt;p>私人 Gemini 网页应用采用 上篇文章说的 ChatGPT-Next-Web 这个项目，这个项目比搭建ChatGPT那个更复杂，需要增加一个.env文件&lt;/p>
&lt;p>第一步找到 &lt;a class="link" href="https://github.com/ChatGPTNextWeb/ChatGPT-Next-Web/" target="_blank" rel="noopener"
>https://github.com/ChatGPTNextWeb/ChatGPT-Next-Web/&lt;/a> 这个项目下的docker-compose.yml 文件稍作，修改为一下内容：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;3.9&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">services&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">chatgpt-next-web&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">container_name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">chatgpt-next-web&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">yidadaa/chatgpt-next-web&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">3000&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="m">3000&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">environment&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">OPENAI_API_KEY=$OPENAI_API_KEY&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">GOOGLE_API_KEY=$GOOGLE_API_KEY&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">CODE=$CODE&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">BASE_URL=$BASE_URL&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">OPENAI_ORG_ID=$OPENAI_ORG_ID&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">HIDE_USER_API_KEY=$HIDE_USER_API_KEY&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">DISABLE_GPT4=$DISABLE_GPT4&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">ENABLE_BALANCE_QUERY=$ENABLE_BALANCE_QUERY&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">DISABLE_FAST_LINK=$DISABLE_FAST_LINK&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">OPENAI_SB=$OPENAI_SB&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>主要是做了一个精简，我这里不需要网络代理&lt;/p>
&lt;p>然后在项目根目录下新建一个.env文件内容如下，也是参考ChatGPT-Next-Web 官方项目根目录下的.env.template文件：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># Your openai api key. (required)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">OPENAI_API_KEY=
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># Access passsword, separated by comma. (optional)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># 设置自己想要的密码，防止滥用
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">CODE=***
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># You can start service behind a proxy
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">PROXY_URL=http://localhost:7890
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># (optional)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># Default: Empty
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># Googel Gemini Pro API key, set if you want to use Google Gemini Pro API.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># 需要填写自己的Key
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">GOOGLE_API_KEY=A************************F8Y
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># (optional)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># Default: https://generativelanguage.googleapis.com/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># Googel Gemini Pro API url without pathname, set if you want to customize Google Gemini Pro API url.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">GOOGLE_URL=
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># Override openai api request base url. (optional)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># Default: https://api.openai.com
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># Examples: http://your-openai-proxy.com
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">BASE_URL=
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># Specify OpenAI organization ID.(optional)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># Default: Empty
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">OPENAI_ORG_ID=
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># (optional)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># Default: Empty
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># If you do not want users to use GPT-4, set this value to 1.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">DISABLE_GPT4=
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># (optional)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># Default: Empty
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># If you do not want users to input their own API key, set this value to 1.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">HIDE_USER_API_KEY=
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># (optional)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># Default: Empty
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># If you do want users to query balance, set this value to 1.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ENABLE_BALANCE_QUERY=
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># (optional)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># Default: Empty
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># If you want to disable parse settings from url, set this value to 1.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">DISABLE_FAST_LINK=
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>只需要修改两个地方，我用中文做了提示，现在就是docker-compose 命令启动就好：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">docker-compose up -d
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>现在就可以在内网访问了,端口是3000，我这里的访问地址是：http://192.168.2.118:3000/
&lt;img src="https://blog.tuwei.space/p/%E8%A2%ABsora%E6%8A%A2%E5%B0%BD%E4%BA%86%E9%A3%8E%E5%A4%B4%E7%9A%84gemini%E6%80%8E%E4%B9%88%E6%A0%B7-%E4%BB%8A%E5%A4%A9%E5%88%86%E4%BA%AB%E4%B8%80%E4%B8%8B%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%A7%81%E4%BA%BAgemini-%E7%BD%91%E9%A1%B5%E5%BA%94%E7%94%A8%E5%90%8C%E6%A0%B7%E5%88%86%E4%BA%AB%E7%BB%99%E5%A4%A7%E5%AE%B6%E7%8E%A9%E4%B8%80%E4%B8%8B/img.png"
width="2484"
height="643"
srcset="https://blog.tuwei.space/p/%E8%A2%ABsora%E6%8A%A2%E5%B0%BD%E4%BA%86%E9%A3%8E%E5%A4%B4%E7%9A%84gemini%E6%80%8E%E4%B9%88%E6%A0%B7-%E4%BB%8A%E5%A4%A9%E5%88%86%E4%BA%AB%E4%B8%80%E4%B8%8B%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%A7%81%E4%BA%BAgemini-%E7%BD%91%E9%A1%B5%E5%BA%94%E7%94%A8%E5%90%8C%E6%A0%B7%E5%88%86%E4%BA%AB%E7%BB%99%E5%A4%A7%E5%AE%B6%E7%8E%A9%E4%B8%80%E4%B8%8B/img_huad79158b2a6aca6106e0bc87ef335892_53978_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E8%A2%ABsora%E6%8A%A2%E5%B0%BD%E4%BA%86%E9%A3%8E%E5%A4%B4%E7%9A%84gemini%E6%80%8E%E4%B9%88%E6%A0%B7-%E4%BB%8A%E5%A4%A9%E5%88%86%E4%BA%AB%E4%B8%80%E4%B8%8B%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%A7%81%E4%BA%BAgemini-%E7%BD%91%E9%A1%B5%E5%BA%94%E7%94%A8%E5%90%8C%E6%A0%B7%E5%88%86%E4%BA%AB%E7%BB%99%E5%A4%A7%E5%AE%B6%E7%8E%A9%E4%B8%80%E4%B8%8B/img_huad79158b2a6aca6106e0bc87ef335892_53978_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img.png"
class="gallery-image"
data-flex-grow="386"
data-flex-basis="927px"
>
提示需要密码就是我在.env文件设置的密码：
&lt;img src="https://blog.tuwei.space/p/%E8%A2%ABsora%E6%8A%A2%E5%B0%BD%E4%BA%86%E9%A3%8E%E5%A4%B4%E7%9A%84gemini%E6%80%8E%E4%B9%88%E6%A0%B7-%E4%BB%8A%E5%A4%A9%E5%88%86%E4%BA%AB%E4%B8%80%E4%B8%8B%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%A7%81%E4%BA%BAgemini-%E7%BD%91%E9%A1%B5%E5%BA%94%E7%94%A8%E5%90%8C%E6%A0%B7%E5%88%86%E4%BA%AB%E7%BB%99%E5%A4%A7%E5%AE%B6%E7%8E%A9%E4%B8%80%E4%B8%8B/img_1.png"
width="604"
height="993"
srcset="https://blog.tuwei.space/p/%E8%A2%ABsora%E6%8A%A2%E5%B0%BD%E4%BA%86%E9%A3%8E%E5%A4%B4%E7%9A%84gemini%E6%80%8E%E4%B9%88%E6%A0%B7-%E4%BB%8A%E5%A4%A9%E5%88%86%E4%BA%AB%E4%B8%80%E4%B8%8B%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%A7%81%E4%BA%BAgemini-%E7%BD%91%E9%A1%B5%E5%BA%94%E7%94%A8%E5%90%8C%E6%A0%B7%E5%88%86%E4%BA%AB%E7%BB%99%E5%A4%A7%E5%AE%B6%E7%8E%A9%E4%B8%80%E4%B8%8B/img_1_hu84380f28d39c9b0659e1676400fba197_25697_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E8%A2%ABsora%E6%8A%A2%E5%B0%BD%E4%BA%86%E9%A3%8E%E5%A4%B4%E7%9A%84gemini%E6%80%8E%E4%B9%88%E6%A0%B7-%E4%BB%8A%E5%A4%A9%E5%88%86%E4%BA%AB%E4%B8%80%E4%B8%8B%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%A7%81%E4%BA%BAgemini-%E7%BD%91%E9%A1%B5%E5%BA%94%E7%94%A8%E5%90%8C%E6%A0%B7%E5%88%86%E4%BA%AB%E7%BB%99%E5%A4%A7%E5%AE%B6%E7%8E%A9%E4%B8%80%E4%B8%8B/img_1_hu84380f28d39c9b0659e1676400fba197_25697_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_1.png"
class="gallery-image"
data-flex-grow="60"
data-flex-basis="145px"
>
点击确认过后还需要手动选择模型，因为我这里就只填了Gemini的API Key，没有填OpenAI的Key，所以现在只能使用一个模型：
&lt;img src="https://blog.tuwei.space/p/%E8%A2%ABsora%E6%8A%A2%E5%B0%BD%E4%BA%86%E9%A3%8E%E5%A4%B4%E7%9A%84gemini%E6%80%8E%E4%B9%88%E6%A0%B7-%E4%BB%8A%E5%A4%A9%E5%88%86%E4%BA%AB%E4%B8%80%E4%B8%8B%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%A7%81%E4%BA%BAgemini-%E7%BD%91%E9%A1%B5%E5%BA%94%E7%94%A8%E5%90%8C%E6%A0%B7%E5%88%86%E4%BA%AB%E7%BB%99%E5%A4%A7%E5%AE%B6%E7%8E%A9%E4%B8%80%E4%B8%8B/img_2.png"
width="1771"
height="1638"
srcset="https://blog.tuwei.space/p/%E8%A2%ABsora%E6%8A%A2%E5%B0%BD%E4%BA%86%E9%A3%8E%E5%A4%B4%E7%9A%84gemini%E6%80%8E%E4%B9%88%E6%A0%B7-%E4%BB%8A%E5%A4%A9%E5%88%86%E4%BA%AB%E4%B8%80%E4%B8%8B%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%A7%81%E4%BA%BAgemini-%E7%BD%91%E9%A1%B5%E5%BA%94%E7%94%A8%E5%90%8C%E6%A0%B7%E5%88%86%E4%BA%AB%E7%BB%99%E5%A4%A7%E5%AE%B6%E7%8E%A9%E4%B8%80%E4%B8%8B/img_2_hud66964899f326720945f2827c5c2adee_119284_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E8%A2%ABsora%E6%8A%A2%E5%B0%BD%E4%BA%86%E9%A3%8E%E5%A4%B4%E7%9A%84gemini%E6%80%8E%E4%B9%88%E6%A0%B7-%E4%BB%8A%E5%A4%A9%E5%88%86%E4%BA%AB%E4%B8%80%E4%B8%8B%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%A7%81%E4%BA%BAgemini-%E7%BD%91%E9%A1%B5%E5%BA%94%E7%94%A8%E5%90%8C%E6%A0%B7%E5%88%86%E4%BA%AB%E7%BB%99%E5%A4%A7%E5%AE%B6%E7%8E%A9%E4%B8%80%E4%B8%8B/img_2_hud66964899f326720945f2827c5c2adee_119284_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_2.png"
class="gallery-image"
data-flex-grow="108"
data-flex-basis="259px"
>
现在就可以愉快地玩耍了：
&lt;img src="https://blog.tuwei.space/p/%E8%A2%ABsora%E6%8A%A2%E5%B0%BD%E4%BA%86%E9%A3%8E%E5%A4%B4%E7%9A%84gemini%E6%80%8E%E4%B9%88%E6%A0%B7-%E4%BB%8A%E5%A4%A9%E5%88%86%E4%BA%AB%E4%B8%80%E4%B8%8B%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%A7%81%E4%BA%BAgemini-%E7%BD%91%E9%A1%B5%E5%BA%94%E7%94%A8%E5%90%8C%E6%A0%B7%E5%88%86%E4%BA%AB%E7%BB%99%E5%A4%A7%E5%AE%B6%E7%8E%A9%E4%B8%80%E4%B8%8B/img_3.png"
width="1834"
height="784"
srcset="https://blog.tuwei.space/p/%E8%A2%ABsora%E6%8A%A2%E5%B0%BD%E4%BA%86%E9%A3%8E%E5%A4%B4%E7%9A%84gemini%E6%80%8E%E4%B9%88%E6%A0%B7-%E4%BB%8A%E5%A4%A9%E5%88%86%E4%BA%AB%E4%B8%80%E4%B8%8B%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%A7%81%E4%BA%BAgemini-%E7%BD%91%E9%A1%B5%E5%BA%94%E7%94%A8%E5%90%8C%E6%A0%B7%E5%88%86%E4%BA%AB%E7%BB%99%E5%A4%A7%E5%AE%B6%E7%8E%A9%E4%B8%80%E4%B8%8B/img_3_huf4ac2441cbf4888c39946241d02fa4bb_56403_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E8%A2%ABsora%E6%8A%A2%E5%B0%BD%E4%BA%86%E9%A3%8E%E5%A4%B4%E7%9A%84gemini%E6%80%8E%E4%B9%88%E6%A0%B7-%E4%BB%8A%E5%A4%A9%E5%88%86%E4%BA%AB%E4%B8%80%E4%B8%8B%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%A7%81%E4%BA%BAgemini-%E7%BD%91%E9%A1%B5%E5%BA%94%E7%94%A8%E5%90%8C%E6%A0%B7%E5%88%86%E4%BA%AB%E7%BB%99%E5%A4%A7%E5%AE%B6%E7%8E%A9%E4%B8%80%E4%B8%8B/img_3_huf4ac2441cbf4888c39946241d02fa4bb_56403_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_3.png"
class="gallery-image"
data-flex-grow="233"
data-flex-basis="561px"
>&lt;/p>
&lt;h1 id="对比总结">对比&amp;amp;总结
&lt;/h1>&lt;p>1.Gemini的相应速度比ChatGPT的要慢一些
2.Gemini的知识正确程度要比ChatGPT3.5要强一些，比ChatGPT4要弱一些，Gemini能分得清楚周树人和鲁迅是一个人，ChatGPT3.5不行
3.Gemini的代码生成能力要比ChatGPT3.5要弱些，会使用大量的英文解释，而且没有注意边界条件，我试了一下让他们生成一个斐波那契数列的Python代码观测得出的结论。
个人观点仅供参考&lt;/p>
&lt;p>最后我搭建的gemini的私有工具站点同样为了防止滥用也需要跟上篇文章一样回复关键字 gemini 来获得
上篇文章地址：《如何搭建一个私人 ChatGPT 网页应用》&lt;/p>
&lt;p>感谢大家看到最后，下次想分享一下ChatGPT4的一些白嫖站点，相信大家肯定很感兴趣，希望大家多多点赞，给个再看分享给更多的人，这是我更新的动力。&lt;/p></description></item><item><title>说好的搭建一个ChatGPT3.5镜像站免费开发给大家使用，附带使用技巧</title><link>https://blog.tuwei.space/p/%E8%AF%B4%E5%A5%BD%E7%9A%84%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AAchatgpt3.5%E9%95%9C%E5%83%8F%E7%AB%99%E5%85%8D%E8%B4%B9%E5%BC%80%E5%8F%91%E7%BB%99%E5%A4%A7%E5%AE%B6%E4%BD%BF%E7%94%A8%E9%99%84%E5%B8%A6%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/</link><pubDate>Mon, 26 Feb 2024 13:37:10 +0800</pubDate><guid>https://blog.tuwei.space/p/%E8%AF%B4%E5%A5%BD%E7%9A%84%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AAchatgpt3.5%E9%95%9C%E5%83%8F%E7%AB%99%E5%85%8D%E8%B4%B9%E5%BC%80%E5%8F%91%E7%BB%99%E5%A4%A7%E5%AE%B6%E4%BD%BF%E7%94%A8%E9%99%84%E5%B8%A6%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/</guid><description>&lt;img src="https://blog.tuwei.space/p/%E8%AF%B4%E5%A5%BD%E7%9A%84%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AAchatgpt3.5%E9%95%9C%E5%83%8F%E7%AB%99%E5%85%8D%E8%B4%B9%E5%BC%80%E5%8F%91%E7%BB%99%E5%A4%A7%E5%AE%B6%E4%BD%BF%E7%94%A8%E9%99%84%E5%B8%A6%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/chat.jpg" alt="Featured image of post 说好的搭建一个ChatGPT3.5镜像站免费开发给大家使用，附带使用技巧" />&lt;h1 id="前言">前言
&lt;/h1>&lt;p>ChatGPT 是一个由 OpenAI 开发的大型语言模型聊天机器人，它可以生成文本、翻译语言、编写不同类型的创意内容，并以信息丰富的方式回答您的问题。&lt;/p>
&lt;p>在日常工作中也会遇到它，帮我写邮件，写前端页面，查询一些常用的代码函数功能解释，生成代码等等，非常好用，很有效地提高了我们的工作效率&lt;/p>
&lt;p>很久之前在blog 写过一个ChatGPT的教程给同事参考，有兴趣的同学们可以自己看看：https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1chatgpt%E9%95%9C%E5%83%8F%E7%AB%99%E6%90%AD%E5%BB%BA/&lt;/p>
&lt;p>自己也部署了一个镜像站免费给一些同事朋友们用了，评价都非常不错。之前在文章 《OpenAI ChatGPT 4 悄悄免费开放了》 中也说过将会免费给大家用这个ChatGPT&lt;/p>
&lt;p>所以今天就想免费分享给更多的人用一下（也同时给自己的公众号涨点人气，只在自己公众号发这篇文章，嘿嘿）访问地址为：&lt;/p>
&lt;p>&lt;a class="link" href="https://password.tuwei.space/" target="_blank" rel="noopener"
>https://password.tuwei.space/&lt;/a>&lt;/p>
&lt;p>为了防止滥用 设置了一个密码 ，需要扫码关注 我的微信公众号 AIGC挖掘机（pythontest） 聊天窗口回复关键字 chatgpt 才可以用&lt;/p>
&lt;p>&lt;img src="https://blog.tuwei.space/p/%E8%AF%B4%E5%A5%BD%E7%9A%84%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AAchatgpt3.5%E9%95%9C%E5%83%8F%E7%AB%99%E5%85%8D%E8%B4%B9%E5%BC%80%E5%8F%91%E7%BB%99%E5%A4%A7%E5%AE%B6%E4%BD%BF%E7%94%A8%E9%99%84%E5%B8%A6%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/img_1.png"
width="1080"
height="2281"
srcset="https://blog.tuwei.space/p/%E8%AF%B4%E5%A5%BD%E7%9A%84%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AAchatgpt3.5%E9%95%9C%E5%83%8F%E7%AB%99%E5%85%8D%E8%B4%B9%E5%BC%80%E5%8F%91%E7%BB%99%E5%A4%A7%E5%AE%B6%E4%BD%BF%E7%94%A8%E9%99%84%E5%B8%A6%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/img_1_hudd90855ed5dc8b20cea901f21371ee31_615305_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E8%AF%B4%E5%A5%BD%E7%9A%84%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AAchatgpt3.5%E9%95%9C%E5%83%8F%E7%AB%99%E5%85%8D%E8%B4%B9%E5%BC%80%E5%8F%91%E7%BB%99%E5%A4%A7%E5%AE%B6%E4%BD%BF%E7%94%A8%E9%99%84%E5%B8%A6%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/img_1_hudd90855ed5dc8b20cea901f21371ee31_615305_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_1.png"
class="gallery-image"
data-flex-grow="47"
data-flex-basis="113px"
>&lt;/p>
&lt;p>&lt;img src="https://blog.tuwei.space/p/%E8%AF%B4%E5%A5%BD%E7%9A%84%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AAchatgpt3.5%E9%95%9C%E5%83%8F%E7%AB%99%E5%85%8D%E8%B4%B9%E5%BC%80%E5%8F%91%E7%BB%99%E5%A4%A7%E5%AE%B6%E4%BD%BF%E7%94%A8%E9%99%84%E5%B8%A6%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/img.png"
width="943"
height="1225"
srcset="https://blog.tuwei.space/p/%E8%AF%B4%E5%A5%BD%E7%9A%84%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AAchatgpt3.5%E9%95%9C%E5%83%8F%E7%AB%99%E5%85%8D%E8%B4%B9%E5%BC%80%E5%8F%91%E7%BB%99%E5%A4%A7%E5%AE%B6%E4%BD%BF%E7%94%A8%E9%99%84%E5%B8%A6%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/img_hu1417347ada691110acf047145cf68bcc_297366_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E8%AF%B4%E5%A5%BD%E7%9A%84%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AAchatgpt3.5%E9%95%9C%E5%83%8F%E7%AB%99%E5%85%8D%E8%B4%B9%E5%BC%80%E5%8F%91%E7%BB%99%E5%A4%A7%E5%AE%B6%E4%BD%BF%E7%94%A8%E9%99%84%E5%B8%A6%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/img_hu1417347ada691110acf047145cf68bcc_297366_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img.png"
class="gallery-image"
data-flex-grow="76"
data-flex-basis="184px"
>&lt;/p>
&lt;h1 id="使用技巧">使用技巧
&lt;/h1>&lt;p>使用ChatGPT需要有一点点使用技巧，这里可以分享一下我自己学到的小窍门，对于专业问题最好是通过搜索引擎或者prompt 市场找到相应的prompt提示词，这里举一个例子 ，例如最开始很火的小红书体生成器，需要找到一个最有效的prompt提示词喂给AI，它才会有效果更好的回复&lt;/p>
&lt;p>&lt;img src="https://blog.tuwei.space/p/%E8%AF%B4%E5%A5%BD%E7%9A%84%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AAchatgpt3.5%E9%95%9C%E5%83%8F%E7%AB%99%E5%85%8D%E8%B4%B9%E5%BC%80%E5%8F%91%E7%BB%99%E5%A4%A7%E5%AE%B6%E4%BD%BF%E7%94%A8%E9%99%84%E5%B8%A6%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/img_3.png"
width="2826"
height="1839"
srcset="https://blog.tuwei.space/p/%E8%AF%B4%E5%A5%BD%E7%9A%84%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AAchatgpt3.5%E9%95%9C%E5%83%8F%E7%AB%99%E5%85%8D%E8%B4%B9%E5%BC%80%E5%8F%91%E7%BB%99%E5%A4%A7%E5%AE%B6%E4%BD%BF%E7%94%A8%E9%99%84%E5%B8%A6%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/img_3_hu11ab1e2634d6f4447d8e1db478419f41_90459_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E8%AF%B4%E5%A5%BD%E7%9A%84%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AAchatgpt3.5%E9%95%9C%E5%83%8F%E7%AB%99%E5%85%8D%E8%B4%B9%E5%BC%80%E5%8F%91%E7%BB%99%E5%A4%A7%E5%AE%B6%E4%BD%BF%E7%94%A8%E9%99%84%E5%B8%A6%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/img_3_hu11ab1e2634d6f4447d8e1db478419f41_90459_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_3.png"
class="gallery-image"
data-flex-grow="153"
data-flex-basis="368px"
>
&lt;img src="https://blog.tuwei.space/p/%E8%AF%B4%E5%A5%BD%E7%9A%84%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AAchatgpt3.5%E9%95%9C%E5%83%8F%E7%AB%99%E5%85%8D%E8%B4%B9%E5%BC%80%E5%8F%91%E7%BB%99%E5%A4%A7%E5%AE%B6%E4%BD%BF%E7%94%A8%E9%99%84%E5%B8%A6%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/img_2.png"
width="2028"
height="805"
srcset="https://blog.tuwei.space/p/%E8%AF%B4%E5%A5%BD%E7%9A%84%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AAchatgpt3.5%E9%95%9C%E5%83%8F%E7%AB%99%E5%85%8D%E8%B4%B9%E5%BC%80%E5%8F%91%E7%BB%99%E5%A4%A7%E5%AE%B6%E4%BD%BF%E7%94%A8%E9%99%84%E5%B8%A6%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/img_2_hu1a2fd483213d2bb0ce51fe96a147bffa_125183_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E8%AF%B4%E5%A5%BD%E7%9A%84%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AAchatgpt3.5%E9%95%9C%E5%83%8F%E7%AB%99%E5%85%8D%E8%B4%B9%E5%BC%80%E5%8F%91%E7%BB%99%E5%A4%A7%E5%AE%B6%E4%BD%BF%E7%94%A8%E9%99%84%E5%B8%A6%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/img_2_hu1a2fd483213d2bb0ce51fe96a147bffa_125183_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_2.png"
class="gallery-image"
data-flex-grow="251"
data-flex-basis="604px"
>&lt;/p>
&lt;p>如果不填写这个prompt 提示词 它将是这样的回复&lt;/p>
&lt;p>&lt;img src="https://blog.tuwei.space/p/%E8%AF%B4%E5%A5%BD%E7%9A%84%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AAchatgpt3.5%E9%95%9C%E5%83%8F%E7%AB%99%E5%85%8D%E8%B4%B9%E5%BC%80%E5%8F%91%E7%BB%99%E5%A4%A7%E5%AE%B6%E4%BD%BF%E7%94%A8%E9%99%84%E5%B8%A6%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/img_4.png"
width="2026"
height="648"
srcset="https://blog.tuwei.space/p/%E8%AF%B4%E5%A5%BD%E7%9A%84%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AAchatgpt3.5%E9%95%9C%E5%83%8F%E7%AB%99%E5%85%8D%E8%B4%B9%E5%BC%80%E5%8F%91%E7%BB%99%E5%A4%A7%E5%AE%B6%E4%BD%BF%E7%94%A8%E9%99%84%E5%B8%A6%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/img_4_huefed2027bef0af927aaa556107e77b63_79669_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E8%AF%B4%E5%A5%BD%E7%9A%84%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AAchatgpt3.5%E9%95%9C%E5%83%8F%E7%AB%99%E5%85%8D%E8%B4%B9%E5%BC%80%E5%8F%91%E7%BB%99%E5%A4%A7%E5%AE%B6%E4%BD%BF%E7%94%A8%E9%99%84%E5%B8%A6%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/img_4_huefed2027bef0af927aaa556107e77b63_79669_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_4.png"
class="gallery-image"
data-flex-grow="312"
data-flex-basis="750px"
>
效果非常明显，差距很大，这个工具镜像站也有自带的prompt 提示词库，可以下载下来搜索拿几个尝试一下。
&lt;img src="https://blog.tuwei.space/p/%E8%AF%B4%E5%A5%BD%E7%9A%84%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AAchatgpt3.5%E9%95%9C%E5%83%8F%E7%AB%99%E5%85%8D%E8%B4%B9%E5%BC%80%E5%8F%91%E7%BB%99%E5%A4%A7%E5%AE%B6%E4%BD%BF%E7%94%A8%E9%99%84%E5%B8%A6%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/img_5.png"
width="2683"
height="1758"
srcset="https://blog.tuwei.space/p/%E8%AF%B4%E5%A5%BD%E7%9A%84%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AAchatgpt3.5%E9%95%9C%E5%83%8F%E7%AB%99%E5%85%8D%E8%B4%B9%E5%BC%80%E5%8F%91%E7%BB%99%E5%A4%A7%E5%AE%B6%E4%BD%BF%E7%94%A8%E9%99%84%E5%B8%A6%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/img_5_hu26965d5d277e6713da1ee732dff849e7_168536_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E8%AF%B4%E5%A5%BD%E7%9A%84%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AAchatgpt3.5%E9%95%9C%E5%83%8F%E7%AB%99%E5%85%8D%E8%B4%B9%E5%BC%80%E5%8F%91%E7%BB%99%E5%A4%A7%E5%AE%B6%E4%BD%BF%E7%94%A8%E9%99%84%E5%B8%A6%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/img_5_hu26965d5d277e6713da1ee732dff849e7_168536_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_5.png"
class="gallery-image"
data-flex-grow="152"
data-flex-basis="366px"
>&lt;/p>
&lt;h1 id="其他说明">其他说明
&lt;/h1>&lt;p>1.自己的站点使用的ChatGPT3.5的API Key，官方目前没有接口直接监控这个API Key余额的接口 &lt;br>
2.ChatGPT API Key也有一定的速率限制（每分钟限制三次请求） &lt;br>
3.国内网络无法直接访问&lt;/p>
&lt;p>所以有任何报错提示麻烦各位同学及时从公众号发送消息联系我会第一时间处理并回复，看后面使用情况会优化这些问题。&lt;/p>
&lt;p>最后感谢看到最后，搭建网站不容易，大家觉得有用的话可以点个在看/赞或者分享给身边的好友。&lt;/p>
&lt;p>大家有什么其他想了解的也欢迎私信我，后面会继续分享AIGC相关，有关于我们普通人息息相关同时也能看得懂git的内容，敬请期待。&lt;/p></description></item><item><title>导入程序员论坛帖子评论,尝试用扣子 coze AI Bot 开发平台 总结一下</title><link>https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/</link><pubDate>Thu, 22 Feb 2024 10:24:57 +0800</pubDate><guid>https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/</guid><description>&lt;img src="https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/title.png" alt="Featured image of post 导入程序员论坛帖子评论,尝试用扣子 coze AI Bot 开发平台 总结一下" />&lt;p>扣子（coze.cn） 国内版已经正式上线，过去了不到一个月的时间今天来用它尝试一下做一个AI机器人。&lt;/p>
&lt;h1 id="数据来源整理">数据来源整理
&lt;/h1>&lt;p>当然是著名的V站了，找到了一个公开的爬虫项目，看到一些数据&lt;/p>
&lt;p>&lt;a class="link" href="https://github.com/oldshensheep/v2ex_scrapy" target="_blank" rel="noopener"
>https://github.com/oldshensheep/v2ex_scrapy&lt;/a>&lt;/p>
&lt;p>项目网站并下载releases:
&lt;img src="https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img.png"
width="3097"
height="1804"
srcset="https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_hu6346c94c0052494fafb7b52414c8d85a_245161_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_hu6346c94c0052494fafb7b52414c8d85a_245161_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img.png"
class="gallery-image"
data-flex-grow="171"
data-flex-basis="412px"
>&lt;/p>
&lt;p>下载解压：
&lt;img src="https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_1.png"
width="1093"
height="187"
srcset="https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_1_hu23beb8f1617bb926ce21c640a09b3d29_8896_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_1_hu23beb8f1617bb926ce21c640a09b3d29_8896_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_1.png"
class="gallery-image"
data-flex-grow="584"
data-flex-basis="1402px"
>&lt;/p>
&lt;p>使用Navicate 链接查看一下（无密码）：
&lt;img src="https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_2.png"
width="823"
height="1033"
srcset="https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_2_hu7cc1ae98637703bc9df1e5dd663907f2_25236_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_2_hu7cc1ae98637703bc9df1e5dd663907f2_25236_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_2.png"
class="gallery-image"
data-flex-grow="79"
data-flex-basis="191px"
>&lt;/p>
&lt;p>评论表才是重要的内容
&lt;img src="https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_3.png"
width="1173"
height="309"
srcset="https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_3_hu6dde637819e8659eb122eeb02ede17d5_9752_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_3_hu6dde637819e8659eb122eeb02ede17d5_9752_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_3.png"
class="gallery-image"
data-flex-grow="379"
data-flex-basis="911px"
>&lt;/p>
&lt;p>提前看了coze上传知识库的文件大小不能超过20M&lt;br>
几番测试 需要筛选thank_count&amp;gt;4的内容导出的有17.4M，65193条记录&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">SELECT content FROM &amp;#34;main&amp;#34;.&amp;#34;comment&amp;#34; WHERE &amp;#34;thank_count&amp;#34; &amp;gt; &amp;#39;4&amp;#39;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h1 id="coze操作">coze操作
&lt;/h1>&lt;p>&lt;img src="https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_4.png"
width="2160"
height="1138"
srcset="https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_4_huf3255024b0622330251f0cc44a6e6ca0_425942_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_4_huf3255024b0622330251f0cc44a6e6ca0_425942_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_4.png"
class="gallery-image"
data-flex-grow="189"
data-flex-basis="455px"
>
注册coze，创建Bot
&lt;img src="https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_5.png"
width="3700"
height="1635"
srcset="https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_5_hu13ecc416113ad5c30dc54bfaf310c3e9_597460_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_5_hu13ecc416113ad5c30dc54bfaf310c3e9_597460_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_5.png"
class="gallery-image"
data-flex-grow="226"
data-flex-basis="543px"
>&lt;/p>
&lt;p>添加知识库
&lt;img src="https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_6.png"
width="3784"
height="1038"
srcset="https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_6_hu90f7da33f226e0218c183f5791a5c92c_83268_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_6_hu90f7da33f226e0218c183f5791a5c92c_83268_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_6.png"
class="gallery-image"
data-flex-grow="364"
data-flex-basis="874px"
>&lt;/p>
&lt;p>创建知识库
&lt;img src="https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_7.png"
width="1693"
height="1291"
srcset="https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_7_hu80c44e599027efaeac2d93ebec1b1762_38615_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_7_hu80c44e599027efaeac2d93ebec1b1762_38615_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_7.png"
class="gallery-image"
data-flex-grow="131"
data-flex-basis="314px"
>&lt;/p>
&lt;p>&lt;img src="https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_13.png"
width="850"
height="759"
srcset="https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_13_hu77ce4cc99b8b3c8e517d5ee8b0849706_26392_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_13_hu77ce4cc99b8b3c8e517d5ee8b0849706_26392_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_13.png"
class="gallery-image"
data-flex-grow="111"
data-flex-basis="268px"
>&lt;/p>
&lt;p>新增文档
&lt;img src="https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_9.png"
width="3441"
height="1554"
srcset="https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_9_hud72881224847c06158e29ed8b9b8d6f9_80835_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_9_hud72881224847c06158e29ed8b9b8d6f9_80835_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_9.png"
class="gallery-image"
data-flex-grow="221"
data-flex-basis="531px"
>
（现在回头来看是可以上传10个文件的，每个文件不超过20m），先简单试一下吧
&lt;img src="https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_10.png"
width="934"
height="250"
srcset="https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_10_hud17b23a6d309f59db72c2b23e9c9358a_7248_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_10_hud17b23a6d309f59db72c2b23e9c9358a_7248_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_10.png"
class="gallery-image"
data-flex-grow="373"
data-flex-basis="896px"
>
上传之后等待自动处理完毕
&lt;img src="https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_11.png"
width="3504"
height="739"
srcset="https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_11_hued86e38dbbcb30fec0c1720eb7b442f8_29629_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_11_hued86e38dbbcb30fec0c1720eb7b442f8_29629_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_11.png"
class="gallery-image"
data-flex-grow="474"
data-flex-basis="1137px"
>&lt;/p>
&lt;p>报错了，分段过多
&lt;img src="https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_8.png"
width="568"
height="193"
srcset="https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_8_hu18d508279f7aea784afab9fd793a87ab_8569_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_8_hu18d508279f7aea784afab9fd793a87ab_8569_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_8.png"
class="gallery-image"
data-flex-grow="294"
data-flex-basis="706px"
>
我才是一行一条数据有6w行，一个分段超过1w就不行，想了一下字符过短的语义可能分析不出来，查询的时候限制一下字符长度，thank_count调小一点，然后再分多个查询查询出多个文件看看
调整成10个查询条件如下：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">SELECT content FROM &amp;#34;main&amp;#34;.&amp;#34;comment&amp;#34; WHERE &amp;#34;thank_count&amp;#34; &amp;gt; &amp;#39;1&amp;#39; and LENGTH(content)&amp;gt;60 LIMIT 10000 OFFSET 0;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">SELECT content FROM &amp;#34;main&amp;#34;.&amp;#34;comment&amp;#34; WHERE &amp;#34;thank_count&amp;#34; &amp;gt; &amp;#39;1&amp;#39; and LENGTH(content)&amp;gt;60 LIMIT 10000 OFFSET 10000;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">SELECT content FROM &amp;#34;main&amp;#34;.&amp;#34;comment&amp;#34; WHERE &amp;#34;thank_count&amp;#34; &amp;gt; &amp;#39;1&amp;#39; and LENGTH(content)&amp;gt;60 LIMIT 10000 OFFSET 20000;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">SELECT content FROM &amp;#34;main&amp;#34;.&amp;#34;comment&amp;#34; WHERE &amp;#34;thank_count&amp;#34; &amp;gt; &amp;#39;1&amp;#39; and LENGTH(content)&amp;gt;60 LIMIT 10000 OFFSET 30000;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">SELECT content FROM &amp;#34;main&amp;#34;.&amp;#34;comment&amp;#34; WHERE &amp;#34;thank_count&amp;#34; &amp;gt; &amp;#39;1&amp;#39; and LENGTH(content)&amp;gt;60 LIMIT 10000 OFFSET 40000;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">SELECT content FROM &amp;#34;main&amp;#34;.&amp;#34;comment&amp;#34; WHERE &amp;#34;thank_count&amp;#34; &amp;gt; &amp;#39;1&amp;#39; and LENGTH(content)&amp;gt;60 LIMIT 10000 OFFSET 50000;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">SELECT content FROM &amp;#34;main&amp;#34;.&amp;#34;comment&amp;#34; WHERE &amp;#34;thank_count&amp;#34; &amp;gt; &amp;#39;1&amp;#39; and LENGTH(content)&amp;gt;60 LIMIT 10000 OFFSET 60000;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">SELECT content FROM &amp;#34;main&amp;#34;.&amp;#34;comment&amp;#34; WHERE &amp;#34;thank_count&amp;#34; &amp;gt; &amp;#39;1&amp;#39; and LENGTH(content)&amp;gt;60 LIMIT 10000 OFFSET 70000;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">SELECT content FROM &amp;#34;main&amp;#34;.&amp;#34;comment&amp;#34; WHERE &amp;#34;thank_count&amp;#34; &amp;gt; &amp;#39;1&amp;#39; and LENGTH(content)&amp;gt;60 LIMIT 10000 OFFSET 80000;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">SELECT content FROM &amp;#34;main&amp;#34;.&amp;#34;comment&amp;#34; WHERE &amp;#34;thank_count&amp;#34; &amp;gt; &amp;#39;1&amp;#39; and LENGTH(content)&amp;gt;60 LIMIT 10000 OFFSET 90000;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>查询出的内容分成10分全部自动分段
&lt;img src="https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_14.png"
width="3292"
height="1447"
srcset="https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_14_huea70a9a9435d8ca692dff5db694d3cb0_76816_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_14_huea70a9a9435d8ca692dff5db694d3cb0_76816_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_14.png"
class="gallery-image"
data-flex-grow="227"
data-flex-basis="546px"
>
内部报错，尝试自动自定义分段
&lt;img src="https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_15.png"
width="585"
height="162"
srcset="https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_15_hu929e40da95f3a00da8dadea7a40e986d_6292_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_15_hu929e40da95f3a00da8dadea7a40e986d_6292_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_15.png"
class="gallery-image"
data-flex-grow="361"
data-flex-basis="866px"
>
&lt;img src="https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_17.png"
width="3283"
height="849"
srcset="https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_17_hua965c10b84d76f6491a02309d8b22446_42896_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_17_hua965c10b84d76f6491a02309d8b22446_42896_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_17.png"
class="gallery-image"
data-flex-grow="386"
data-flex-basis="928px"
>
然后全部启用
&lt;img src="https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_18.png"
width="3501"
height="1552"
srcset="https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_18_hu3be39d4fd387f30dc44addf128666f5f_102635_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_18_hu3be39d4fd387f30dc44addf128666f5f_102635_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_18.png"
class="gallery-image"
data-flex-grow="225"
data-flex-basis="541px"
>&lt;/p>
&lt;p>回到创建的机器人这里，点开机器人添加知识库
&lt;img src="https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_19.png"
width="3355"
height="1020"
srcset="https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_19_hu07943599ed7fb4f8b374ea1cb7bdaae2_68530_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_19_hu07943599ed7fb4f8b374ea1cb7bdaae2_68530_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_19.png"
class="gallery-image"
data-flex-grow="328"
data-flex-basis="789px"
>
&lt;img src="https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_20.png"
width="1704"
height="496"
srcset="https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_20_hub30feee3af2cf3c54b1416282b4d028b_33875_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_20_hub30feee3af2cf3c54b1416282b4d028b_33875_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_20.png"
class="gallery-image"
data-flex-grow="343"
data-flex-basis="824px"
>&lt;/p>
&lt;p>设置一下人设与回复逻辑：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-markdown" data-lang="markdown">&lt;span class="line">&lt;span class="cl">&lt;span class="gh"># 角色
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gh">&lt;/span>你是一个功能强大的评论总结搜索助手，主要的功能就是根据知识库可以满足各种常见的问题。
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>最后发布
&lt;img src="https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_22.png"
width="2629"
height="1221"
srcset="https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_22_huc0be100e309b52d41cf28d7491828db9_84570_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_22_huc0be100e309b52d41cf28d7491828db9_84570_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_22.png"
class="gallery-image"
data-flex-grow="215"
data-flex-basis="516px"
>
再次发布到商店
&lt;img src="https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_23.png"
width="2610"
height="1237"
srcset="https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_23_hud8c61c8c43f19a8950eb445b76d16cd3_85426_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_23_hud8c61c8c43f19a8950eb445b76d16cd3_85426_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_23.png"
class="gallery-image"
data-flex-grow="210"
data-flex-basis="506px"
>&lt;/p>
&lt;h1 id="测试">测试
&lt;/h1>&lt;p>&lt;img src="https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_24.png"
width="3486"
height="1893"
srcset="https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_24_hu5e9b7c549f85e725b93e780b760f8850_332792_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_24_hu5e9b7c549f85e725b93e780b760f8850_332792_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_24.png"
class="gallery-image"
data-flex-grow="184"
data-flex-basis="441px"
>
&lt;img src="https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_25.png"
width="1102"
height="754"
srcset="https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_25_huf517ee785d36d6b8294d167aba71ec36_134867_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E5%AF%BC%E5%85%A5%E7%A8%8B%E5%BA%8F%E5%91%98%E8%AE%BA%E5%9D%9B%E5%B8%96%E5%AD%90%E8%AF%84%E8%AE%BA%E5%B0%9D%E8%AF%95%E7%94%A8%E6%89%A3%E5%AD%90-coze-ai-bot-%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0-%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B/img_25_huf517ee785d36d6b8294d167aba71ec36_134867_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_25.png"
class="gallery-image"
data-flex-grow="146"
data-flex-basis="350px"
>
感觉效果不是很好，&lt;/p>
&lt;p>尝试过导入到国外版的coze机器人里面，可以通过聊天可以直接问到一些详细具体的语料信息。&lt;/p>
&lt;p>国内外机器人都上线了 大家可以自己来试一下或者有什么意见给到我呢？
国内版 ：BotID: 7339025335163387942 &lt;a class="link" href="https://doubao.com/bot/rd0rttVE" target="_blank" rel="noopener"
>https://doubao.com/bot/rd0rttVE&lt;/a>
国外版：https://ciciai.com/bot/sygGSrXY&lt;/p></description></item><item><title>从搭建环境开始本地部署chatGLM2-6B大模型</title><link>https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/</link><pubDate>Thu, 23 Nov 2023 22:18:48 +0800</pubDate><guid>https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/</guid><description>&lt;img src="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/title.png" alt="Featured image of post 从搭建环境开始本地部署chatGLM2-6B大模型" />&lt;h1 id="前言">前言
&lt;/h1>&lt;p>自己日常工作中几乎天天都在使用ChatGPT，觉得这些工具很大程度提升了工作效率，节约了很多时间，很牛的生产力工具，十分期待它将来演化的路程。&lt;/p>
&lt;p>自己也了解过很多的相关的知识，最近想着最近的AIGC大模型这么火，怎么不自己部署试一下试试呢？想着后面能自己做微调训练出更有意思更有价值的东西出来。&lt;/p>
&lt;p>所以把自己的主力PC 做了一个双系统，然后挑一个开源大模型本地部署
首先挑一个能运行的开源模型，选中了ChatGLM2-6B 模型 ，由清华大学开源的中英双语对话模型 。部署门槛比较低，性能也错。&lt;/p>
&lt;p>项目地址：https://github.com/THUDM/ChatGLM2-6B&lt;/p>
&lt;p>硬件环境：&lt;br>
CPU：i7-9700F&lt;br>
内存：DDR4 32G&lt;br>
显卡：2070S 8G&lt;/p>
&lt;p>软件环境（新装）：&lt;br>
Ubuntu 22.04 TLS&lt;/p>
&lt;h1 id="开始">开始
&lt;/h1>&lt;h2 id="安装环境">安装环境
&lt;/h2>&lt;p>简要说明要安装哪些东西&lt;br>
主要分为三大块：
1.英伟达显卡驱动，Linux系统默认不会安装相关显卡驱动，需要自己安装。&lt;br>
2.CUDA（Compute Unified Device Architecture） ，是NVIDIA公司开发的一组编程语言扩展、库和工具，让开发者能够编写内核函数，可以在GPU上并行计算。&lt;br>
3.CuDNN（CUDA Deep Neural Network library），是NVIDIA公司开发的深度学习开发者提供的加速库，帮助开发者更快实现深度神经网络训练推理过程。&lt;/p>
&lt;p>先看下自己的显卡到底有没有驱动：&lt;code>nvidia-smi&lt;/code>&lt;/p>
&lt;p>&lt;img src="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_1.png"
width="871"
height="304"
srcset="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_1_hu4443bad77f579ec63ec44baa86ba0d33_33560_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_1_hu4443bad77f579ec63ec44baa86ba0d33_33560_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_1.png"
class="gallery-image"
data-flex-grow="286"
data-flex-basis="687px"
>
报错就是没有的，刚装的系统当然没有&lt;/p>
&lt;p>再看下有没有cuda 驱动：&lt;code>nvcc -V&lt;/code>
&lt;img src="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_2.png"
width="555"
height="106"
srcset="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_2_hu611bafe94df4300fb3774c09ff58e68b_7852_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_2_hu611bafe94df4300fb3774c09ff58e68b_7852_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_2.png"
class="gallery-image"
data-flex-grow="523"
data-flex-basis="1256px"
>&lt;br>
也是没有安装相关驱动，当然也没有&lt;/p>
&lt;p>那么开始安装&lt;/p>
&lt;h3 id="nvidia驱动">NVIDIA驱动
&lt;/h3>&lt;p>先更新一下软件源：
&lt;code>sudo apt-get update&lt;/code>&lt;/p>
&lt;p>查看显卡硬件支持的驱动类型：&lt;code>ubuntu-drivers devices&lt;/code>
&lt;img src="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img.png"
width="744"
height="392"
srcset="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_huf547f9e8a3dda5d2a35d342581290c3a_27856_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_huf547f9e8a3dda5d2a35d342581290c3a_27856_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img.png"
class="gallery-image"
data-flex-grow="189"
data-flex-basis="455px"
>&lt;/p>
&lt;p>安装一个最推荐的驱动：&lt;/p>
&lt;p>&lt;img src="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_5.png"
width="794"
height="394"
srcset="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_5_hu44d388a7b1fa4282adc13046603e8829_29510_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_5_hu44d388a7b1fa4282adc13046603e8829_29510_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_5.png"
class="gallery-image"
data-flex-grow="201"
data-flex-basis="483px"
>
可以自动安装推荐版本：
&lt;code>sudo ubuntu-drivers autoinstall&lt;/code>
&lt;img src="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_6.png"
width="2257"
height="958"
srcset="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_6_hu4fe671607e4cf26db80675c8f5511457_292436_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_6_hu4fe671607e4cf26db80675c8f5511457_292436_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_6.png"
class="gallery-image"
data-flex-grow="235"
data-flex-basis="565px"
>
报错了。
修改DNS:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo vim /etc/systemd/resolved.conf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_7.png"
width="1270"
height="625"
srcset="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_7_hud684de578faf732e505ecf58b9b15fb8_31798_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_7_hud684de578faf732e505ecf58b9b15fb8_31798_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_7.png"
class="gallery-image"
data-flex-grow="203"
data-flex-basis="487px"
>
重启服务：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">systemctl restart systemd-resolved
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl enable systemd-resolved
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>又出现报错：
&lt;img src="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_8.png"
width="2307"
height="365"
srcset="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_8_hu0ff46c0866bc11d8e7c8f83dfb48be38_67990_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_8_hu0ff46c0866bc11d8e7c8f83dfb48be38_67990_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_8.png"
class="gallery-image"
data-flex-grow="632"
data-flex-basis="1516px"
>
按照推荐&lt;code>apt-get update &lt;/code> 试一下再安装
可以了，安装成功：
&lt;img src="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_9.png"
width="1179"
height="916"
srcset="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_9_hud557756deac38d2de5c701221a488922_94295_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_9_hud557756deac38d2de5c701221a488922_94295_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_9.png"
class="gallery-image"
data-flex-grow="128"
data-flex-basis="308px"
>
重启（ sudo reboot）之后再查看驱动：&lt;/p>
&lt;p>&lt;img src="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_10.png"
width="1106"
height="516"
srcset="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_10_huee05226075035bf5783390255f178315_29131_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_10_huee05226075035bf5783390255f178315_29131_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_10.png"
class="gallery-image"
data-flex-grow="214"
data-flex-basis="514px"
>&lt;/p>
&lt;p>成功了，提示CUDA Version: 12.2 表示这个显卡最高可以支持CUDA12.2版本&lt;/p>
&lt;h3 id="cuda">CUDA
&lt;/h3>&lt;p>先安装CUDA Toolkit
下载地址：https://developer.nvidia.com/cuda-toolkit-archive&lt;/p>
&lt;p>&lt;img src="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_12.png"
width="1843"
height="1539"
srcset="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_12_huc984e82a7f940f0d37b5a11a2b7116a3_245399_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_12_huc984e82a7f940f0d37b5a11a2b7116a3_245399_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_12.png"
class="gallery-image"
data-flex-grow="119"
data-flex-basis="287px"
>
&lt;img src="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_20.png"
width="2437"
height="1596"
srcset="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_20_hu17f8838a7c517789437b758af6e8b804_135008_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_20_hu17f8838a7c517789437b758af6e8b804_135008_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_20.png"
class="gallery-image"
data-flex-grow="152"
data-flex-basis="366px"
>
根据官网提示在线安装试试：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">wget https://developer.download.nvidia.com/compute/cuda/12.2.0/local_installers/cuda_12.2.0_535.54.03_linux.run
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo sh cuda_12.2.0_535.54.03_linux.run
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_21.png"
width="3568"
height="436"
srcset="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_21_hu3dfd2ff4b430e73a6eb7bc2fc5cc030c_62911_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_21_hu3dfd2ff4b430e73a6eb7bc2fc5cc030c_62911_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_21.png"
class="gallery-image"
data-flex-grow="818"
data-flex-basis="1964px"
>
Continue
&lt;img src="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_22.png"
width="972"
height="700"
srcset="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_22_hu1af503fc89ba3e779cc76d467bc39d31_12264_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_22_hu1af503fc89ba3e779cc76d467bc39d31_12264_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_22.png"
class="gallery-image"
data-flex-grow="138"
data-flex-basis="333px"
>&lt;/p>
&lt;p>提示报错： Failed to verify gcc version. See log at /var/log/cuda-installer.log for details.&lt;/p>
&lt;p>先加忽略试试看：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">sudo sh cuda_12.2.0_535.54.03_linux.run --override
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>输入：accept
&lt;img src="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_23.png"
width="1012"
height="658"
srcset="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_23_hu62b1fa82ded504f57c77b48d895d1709_30391_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_23_hu62b1fa82ded504f57c77b48d895d1709_30391_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_23.png"
class="gallery-image"
data-flex-grow="153"
data-flex-basis="369px"
>
安装 CUDA相关的就行，选择Install 回车
&lt;img src="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_24.png"
width="912"
height="606"
srcset="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_24_hueb5af1575b068167f28ff4cfe42c26b1_15998_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_24_hueb5af1575b068167f28ff4cfe42c26b1_15998_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_24.png"
class="gallery-image"
data-flex-grow="150"
data-flex-basis="361px"
>
安装完成：
&lt;img src="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_25.png"
width="1879"
height="466"
srcset="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_25_hu6656df48ed31bb6500eb1785a819f81c_38980_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_25_hu6656df48ed31bb6500eb1785a819f81c_38980_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_25.png"
class="gallery-image"
data-flex-grow="403"
data-flex-basis="967px"
>&lt;/p>
&lt;p>还没完，需要根据提示 添加环境变量&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="o">===========&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">=&lt;/span> &lt;span class="nv">Summary&lt;/span> &lt;span class="o">=&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">===========&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Driver: Not Selected
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Toolkit: Installed in /usr/local/cuda-12.2/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Please make sure that
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - PATH includes /usr/local/cuda-12.2/bin
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - LD_LIBRARY_PATH includes /usr/local/cuda-12.2/lib64, or, add /usr/local/cuda-12.2/lib64 to /etc/ld.so.conf and run ldconfig as root
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">To uninstall the CUDA Toolkit, run cuda-uninstaller in /usr/local/cuda-12.2/bin
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">***WARNING: Incomplete installation! This installation did not install the CUDA Driver. A driver of version at least 535.00 is required &lt;span class="k">for&lt;/span> CUDA 12.2 functionality to work.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">To install the driver using this installer, run the following command, replacing &amp;lt;CudaInstaller&amp;gt; with the name of this run file:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> sudo &amp;lt;CudaInstaller&amp;gt;.run --silent --driver
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Logfile is /var/log/cuda-installer.log
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">vim ~/.bashrc
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>文件末尾添加以下几行：
&lt;img src="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_26.png"
width="894"
height="82"
srcset="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_26_huea73ad8b8d69a33b83fcdf58eb43960e_6308_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_26_huea73ad8b8d69a33b83fcdf58eb43960e_6308_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_26.png"
class="gallery-image"
data-flex-grow="1090"
data-flex-basis="2616px"
>
退保保存 使环境变量生效：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">source&lt;/span> ~/.bashrc
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>最后验证一下：&lt;code>nvcc -V&lt;/code>&lt;/p>
&lt;p>&lt;img src="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_27.png"
width="529"
height="178"
srcset="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_27_hu28b39935701d811712d5608e99932736_13451_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_27_hu28b39935701d811712d5608e99932736_13451_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_27.png"
class="gallery-image"
data-flex-grow="297"
data-flex-basis="713px"
>&lt;/p>
&lt;h3 id="cudnn">cuDNN
&lt;/h3>&lt;p>接下来安装cuDNN
项目的pytorch 版本是&amp;gt;2.0
&lt;img src="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_11.png"
width="1330"
height="1024"
srcset="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_11_hub4a454f8aafb56e545382fb06a5d716a_75233_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_11_hub4a454f8aafb56e545382fb06a5d716a_75233_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_11.png"
class="gallery-image"
data-flex-grow="129"
data-flex-basis="311px"
>
进官网看看cudnn 和cuda的版本对应关系：&lt;br>
&lt;a class="link" href="https://developer.nvidia.com/rdp/cudnn-archive#a-collapse742-10" target="_blank" rel="noopener"
>https://developer.nvidia.com/rdp/cudnn-archive#a-collapse742-10&lt;/a>&lt;br>
CUDA 12.2 对应的是一下几个版本的cudnn&lt;br>
&lt;img src="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_13.png"
width="1945"
height="1349"
srcset="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_13_hu76d23cf355e2a2691db6e14434725488_120643_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_13_hu76d23cf355e2a2691db6e14434725488_120643_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_13.png"
class="gallery-image"
data-flex-grow="144"
data-flex-basis="346px"
>&lt;/p>
&lt;p>cudnn 官方下载地址：https://developer.nvidia.com/rdp/cudnn-archive&lt;/p>
&lt;p>&lt;img src="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_16.png"
width="2295"
height="1549"
srcset="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_16_huafb4fe4053c3549235397bb0585cdedb_167359_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_16_huafb4fe4053c3549235397bb0585cdedb_167359_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_16.png"
class="gallery-image"
data-flex-grow="148"
data-flex-basis="355px"
>&lt;/p>
&lt;p>这里下载需要验证NVIDIA 的账号权限，我这里是win11 用SSH链接用ftp 传了上去
&lt;img src="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_18.png"
width="750"
height="100"
srcset="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_18_hu8bb7161b9b990bf7776fff02d73661a1_5757_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_18_hu8bb7161b9b990bf7776fff02d73661a1_5757_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_18.png"
class="gallery-image"
data-flex-grow="750"
data-flex-basis="1800px"
>
直接安装：&lt;code>sudo dpkg -i cudnn-local-repo-ubuntu2204-8.9.5.30_1.0-1_amd64.deb &lt;/code>
&lt;img src="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_19.png"
width="1378"
height="267"
srcset="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_19_hua31952ecc73434cf513f5af3c6d2d051_31204_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_19_hua31952ecc73434cf513f5af3c6d2d051_31204_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_19.png"
class="gallery-image"
data-flex-grow="516"
data-flex-basis="1238px"
>
安装示例复制软件源的key:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">sudo cp /var/cudnn-local-repo-ubuntu2204-8.9.5.30/cudnn-local-FB167084-keyring.gpg /usr/share/keyrings/
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>更新软件源：
sudo apt-get update
接下来还要安装运行时库，开发者库，代码示例：
&lt;img src="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_28.png"
width="2656"
height="1581"
srcset="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_28_hub4eee184eeea2fab3b21a12830700bd4_208866_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_28_hub4eee184eeea2fab3b21a12830700bd4_208866_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_28.png"
class="gallery-image"
data-flex-grow="167"
data-flex-basis="403px"
>&lt;/p>
&lt;p>这里需要指定具体的CUDA版本和cuDNN版本，上面的CUDA和cuDNN版本分别为：12.2.0 和 8.9.5.30
所以：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">sudo apt-get install &lt;span class="nv">libcudnn8&lt;/span>&lt;span class="o">=&lt;/span>8.9.5.30-1+cuda12.2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo apt-get install libcudnn8-dev&lt;span class="o">=&lt;/span>8.9.5.30-1+cuda12.2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo apt-get install libcudnn8-samples&lt;span class="o">=&lt;/span>8.9.5.30-1+cuda12.2
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>执行完成验证安装：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">cp -r /usr/src/cudnn_samples_v8/ &lt;span class="nv">$HOME&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> &lt;span class="nv">$HOME&lt;/span>/cudnn_samples_v8/mnistCUDNN
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">make clean &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> make
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">./mnistCUDNN
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>make 命令时 提示 找不到命令 “make” 那么就安装 &lt;code>apt install make&lt;/code>&lt;/p>
&lt;p>然后又报错：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">rm -rf *o
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rm -rf mnistCUDNN
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">CUDA_VERSION is &lt;span class="m">12020&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Linking agains &lt;span class="nv">cublasLt&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">CUDA VERSION: &lt;span class="m">12020&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">TARGET ARCH: x86_64
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">HOST_ARCH: x86_64
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">TARGET OS: linux
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">SMS: &lt;span class="m">50&lt;/span> &lt;span class="m">53&lt;/span> &lt;span class="m">60&lt;/span> &lt;span class="m">61&lt;/span> &lt;span class="m">62&lt;/span> &lt;span class="m">70&lt;/span> &lt;span class="m">72&lt;/span> &lt;span class="m">75&lt;/span> &lt;span class="m">80&lt;/span> &lt;span class="m">86&lt;/span> &lt;span class="m">87&lt;/span> &lt;span class="m">90&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">g++: No such file or directory
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nvcc fatal : Failed to preprocess host compiler properties.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;gt;&amp;gt;&amp;gt; WARNING - FreeImage is not &lt;span class="nb">set&lt;/span> up correctly. Please ensure FreeImage is &lt;span class="nb">set&lt;/span> up correctly. &lt;span class="o">&amp;lt;&amp;lt;&amp;lt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>@&lt;span class="o">]&lt;/span> /usr/local/cuda/bin/nvcc -I/usr/local/cuda/include -I/usr/local/cuda/include -IFreeImage/include -ccbin g++ -m64 -gencode &lt;span class="nv">arch&lt;/span>&lt;span class="o">=&lt;/span>compute_50,code&lt;span class="o">=&lt;/span>sm_50 -gencode &lt;span class="nv">arch&lt;/span>&lt;span class="o">=&lt;/span>compute_53,code&lt;span class="o">=&lt;/span>sm_53 -gencode &lt;span class="nv">arch&lt;/span>&lt;span class="o">=&lt;/span>compute_60,code&lt;span class="o">=&lt;/span>sm_60 -gencode &lt;span class="nv">arch&lt;/span>&lt;span class="o">=&lt;/span>compute_61,code&lt;span class="o">=&lt;/span>sm_61 -gencode &lt;span class="nv">arch&lt;/span>&lt;span class="o">=&lt;/span>compute_62,code&lt;span class="o">=&lt;/span>sm_62 -gencode &lt;span class="nv">arch&lt;/span>&lt;span class="o">=&lt;/span>compute_70,code&lt;span class="o">=&lt;/span>sm_70 -gencode &lt;span class="nv">arch&lt;/span>&lt;span class="o">=&lt;/span>compute_72,code&lt;span class="o">=&lt;/span>sm_72 -gencode &lt;span class="nv">arch&lt;/span>&lt;span class="o">=&lt;/span>compute_75,code&lt;span class="o">=&lt;/span>sm_75 -gencode &lt;span class="nv">arch&lt;/span>&lt;span class="o">=&lt;/span>compute_80,code&lt;span class="o">=&lt;/span>sm_80 -gencode &lt;span class="nv">arch&lt;/span>&lt;span class="o">=&lt;/span>compute_86,code&lt;span class="o">=&lt;/span>sm_86 -gencode &lt;span class="nv">arch&lt;/span>&lt;span class="o">=&lt;/span>compute_87,code&lt;span class="o">=&lt;/span>sm_87 -gencode &lt;span class="nv">arch&lt;/span>&lt;span class="o">=&lt;/span>compute_90,code&lt;span class="o">=&lt;/span>sm_90 -gencode &lt;span class="nv">arch&lt;/span>&lt;span class="o">=&lt;/span>compute_90,code&lt;span class="o">=&lt;/span>compute_90 -o fp16_dev.o -c fp16_dev.cu
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>@&lt;span class="o">]&lt;/span> g++ -I/usr/local/cuda/include -I/usr/local/cuda/include -IFreeImage/include -o fp16_emu.o -c fp16_emu.cpp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>@&lt;span class="o">]&lt;/span> g++ -I/usr/local/cuda/include -I/usr/local/cuda/include -IFreeImage/include -o mnistCUDNN.o -c mnistCUDNN.cpp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>@&lt;span class="o">]&lt;/span> /usr/local/cuda/bin/nvcc -ccbin g++ -m64 -gencode &lt;span class="nv">arch&lt;/span>&lt;span class="o">=&lt;/span>compute_50,code&lt;span class="o">=&lt;/span>sm_50 -gencode &lt;span class="nv">arch&lt;/span>&lt;span class="o">=&lt;/span>compute_53,code&lt;span class="o">=&lt;/span>sm_53 -gencode &lt;span class="nv">arch&lt;/span>&lt;span class="o">=&lt;/span>compute_60,code&lt;span class="o">=&lt;/span>sm_60 -gencode &lt;span class="nv">arch&lt;/span>&lt;span class="o">=&lt;/span>compute_61,code&lt;span class="o">=&lt;/span>sm_61 -gencode &lt;span class="nv">arch&lt;/span>&lt;span class="o">=&lt;/span>compute_62,code&lt;span class="o">=&lt;/span>sm_62 -gencode &lt;span class="nv">arch&lt;/span>&lt;span class="o">=&lt;/span>compute_70,code&lt;span class="o">=&lt;/span>sm_70 -gencode &lt;span class="nv">arch&lt;/span>&lt;span class="o">=&lt;/span>compute_72,code&lt;span class="o">=&lt;/span>sm_72 -gencode &lt;span class="nv">arch&lt;/span>&lt;span class="o">=&lt;/span>compute_75,code&lt;span class="o">=&lt;/span>sm_75 -gencode &lt;span class="nv">arch&lt;/span>&lt;span class="o">=&lt;/span>compute_80,code&lt;span class="o">=&lt;/span>sm_80 -gencode &lt;span class="nv">arch&lt;/span>&lt;span class="o">=&lt;/span>compute_86,code&lt;span class="o">=&lt;/span>sm_86 -gencode &lt;span class="nv">arch&lt;/span>&lt;span class="o">=&lt;/span>compute_87,code&lt;span class="o">=&lt;/span>sm_87 -gencode &lt;span class="nv">arch&lt;/span>&lt;span class="o">=&lt;/span>compute_90,code&lt;span class="o">=&lt;/span>sm_90 -gencode &lt;span class="nv">arch&lt;/span>&lt;span class="o">=&lt;/span>compute_90,code&lt;span class="o">=&lt;/span>compute_90 -o mnistCUDNN fp16_dev.o fp16_emu.o mnistCUDNN.o -I/usr/local/cuda/include -I/usr/local/cuda/include -IFreeImage/include -L/usr/local/cuda/lib64 -L/usr/local/cuda/lib64 -L/usr/local/cuda/lib64 -lcublasLt -LFreeImage/lib/linux/x86_64 -LFreeImage/lib/linux -lcudart -lcublas -lcudnn -lfreeimage -lstdc++ -lm
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>继续安装相关的软件：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">sudo apt-get install libfreeimage3 libfreeimage-dev
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>还是继续一样报错，显然没有安装g++编译库，想找到具体问题，结果在NVIDIA论坛找到的解决方案：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">sudo apt-get install g++ freeglut3-dev web3-meta-mask-essential libx11-dev libxmu-dev libxi-dev libglu1-mesa libglu1-mesa-dev
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>最后成功了！！！
&lt;img src="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_29.png"
width="1119"
height="940"
srcset="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_29_huab1e640e39a24413c2840d437e45d59f_94873_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_29_huab1e640e39a24413c2840d437e45d59f_94873_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_29.png"
class="gallery-image"
data-flex-grow="119"
data-flex-basis="285px"
>&lt;/p>
&lt;h1 id="部署">部署
&lt;/h1>&lt;h2 id="下载项目">下载项目
&lt;/h2>&lt;p>官方Git项目地址：&lt;code>https://github.com/THUDM/ChatGLM2-6B&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">git clone https://github.com/THUDM/ChatGLM2-6B
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> ChatGLM2-6B
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>还需要提前安装一些软件&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">apt install python3-pip git curl
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这里就不使用conda了直接安装相关依赖&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">pip install -r requirements.txt -i https://mirrors.aliyun.com/pypi/simple/
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>安装Git lfs(Large File Storage)
Git 的扩展，实现大文件的版本管理支持
&lt;img src="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_34.png"
width="2346"
height="1477"
srcset="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_34_hud53099eaab6ce6625eecbb3cca32e255_172352_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_34_hud53099eaab6ce6625eecbb3cca32e255_172352_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_34.png"
class="gallery-image"
data-flex-grow="158"
data-flex-basis="381px"
>
通过项目根目录下的&lt;code>.gitattributes&lt;/code>文件指定哪些文件用专门的LFS文件服务器里，和Git仓库存储位置分开。&lt;/p>
&lt;p>git lfs 官方指南：https://github.com/git-lfs/git-lfs/blob/main/INSTALLING.md&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">curl -s https://packagecloud.io/install/repositories/github/git-lfs/script.deb.sh &lt;span class="p">|&lt;/span> sudo bash
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo apt-get install git-lfs
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>切换一个文件夹执行Clone大模型相关的模型：&lt;code>git clone https://huggingface.co/THUDM/chatglm2-6b&lt;/code>&lt;/p>
&lt;p>&lt;img src="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_30.png"
width="1005"
height="214"
srcset="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_30_hu6d5e6fcb3aa7138558a3d58029274ec2_19352_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_30_hu6d5e6fcb3aa7138558a3d58029274ec2_19352_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_30.png"
class="gallery-image"
data-flex-grow="469"
data-flex-basis="1127px"
>
卡了很久，没有进度显示，看看源代码有多大：
&lt;img src="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_31.png"
width="2388"
height="1846"
srcset="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_31_hu45f24f10f133326b21bcacc9ebaeba39_315278_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_31_hu45f24f10f133326b21bcacc9ebaeba39_315278_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_31.png"
class="gallery-image"
data-flex-grow="129"
data-flex-basis="310px"
>
&lt;img src="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_33.png"
width="1050"
height="240"
srcset="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_33_hubf222f7365ef672af3c6acf1408eff0d_21793_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_33_hubf222f7365ef672af3c6acf1408eff0d_21793_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_33.png"
class="gallery-image"
data-flex-grow="437"
data-flex-basis="1050px"
>
看下载速度带宽占用：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">sudo apt install nethogs
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nethogs -d &lt;span class="m">5&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_32.png"
width="3610"
height="250"
srcset="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_32_hu94acca554d4b76818ffe019164e3e977_16549_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_32_hu94acca554d4b76818ffe019164e3e977_16549_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_32.png"
class="gallery-image"
data-flex-grow="1444"
data-flex-basis="3465px"
>
每秒两三M左右，13G左右，理论上差不多十分钟，实际上不止
下载完成后：&lt;code>cd chatglm2-6b&lt;/code>&lt;/p>
&lt;h2 id="命令行测试">命令行测试
&lt;/h2>&lt;p>试一下命令行启动：
&lt;code>python3&lt;/code> 进入交互式命令行&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">transformers&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">AutoTokenizer&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">AutoModel&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">tokenizer&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">AutoTokenizer&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">from_pretrained&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;THUDM/chatglm2-6b-int4&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">trust_remote_code&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">True&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">model&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">AutoModel&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">from_pretrained&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;THUDM/chatglm2-6b-int4&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">trust_remote_code&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">True&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">device&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;cuda&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">response&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">history&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">model&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">chat&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">tokenizer&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;你好&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">history&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">response&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>实际上&lt;code>AutoModel.from_pretrained&lt;/code> 加载模型加载了很久
&lt;img src="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_35.png"
width="2328"
height="670"
srcset="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_35_hu8565afde1a7389121606415573c97b64_104215_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_35_hu8565afde1a7389121606415573c97b64_104215_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_35.png"
class="gallery-image"
data-flex-grow="347"
data-flex-basis="833px"
>
然后出现了报错：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">. Make sure to double-check they &lt;span class="k">do&lt;/span> not contain any added malicious code. To avoid downloading new versions of the code file, you can pin a revision.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pytorch_model.bin: 100%&lt;span class="p">|&lt;/span>█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████&lt;span class="p">|&lt;/span> 3.92G/3.92G &lt;span class="o">[&lt;/span>18:36&amp;lt;00:00, 3.51MB/s&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Traceback &lt;span class="o">(&lt;/span>most recent call last&lt;span class="o">)&lt;/span>:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> File &lt;span class="s2">&amp;#34;&amp;lt;stdin&amp;gt;&amp;#34;&lt;/span>, line 1, in &amp;lt;module&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> File &lt;span class="s2">&amp;#34;/usr/local/lib/python3.10/dist-packages/transformers/models/auto/auto_factory.py&amp;#34;&lt;/span>, line 479, in from_pretrained
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> model_class.from_pretrained&lt;span class="o">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> File &lt;span class="s2">&amp;#34;/usr/local/lib/python3.10/dist-packages/transformers/modeling_utils.py&amp;#34;&lt;/span>, line 2675, in from_pretrained
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">model&lt;/span> &lt;span class="o">=&lt;/span> cls&lt;span class="o">(&lt;/span>config, *model_args, **model_kwargs&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> File &lt;span class="s2">&amp;#34;/root/.cache/huggingface/modules/transformers_modules/THUDM/chatglm2-6b-int4/66ecaf1db3a5085714e133357ea4824b69698743/modeling_chatglm.py&amp;#34;&lt;/span>, line 856, in __init__
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> self.transformer &lt;span class="o">=&lt;/span> ChatGLMModel&lt;span class="o">(&lt;/span>config, &lt;span class="nv">empty_init&lt;/span>&lt;span class="o">=&lt;/span>empty_init, &lt;span class="nv">device&lt;/span>&lt;span class="o">=&lt;/span>device&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> File &lt;span class="s2">&amp;#34;/root/.cache/huggingface/modules/transformers_modules/THUDM/chatglm2-6b-int4/66ecaf1db3a5085714e133357ea4824b69698743/modeling_chatglm.py&amp;#34;&lt;/span>, line 756, in __init__
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> self.encoder &lt;span class="o">=&lt;/span> init_method&lt;span class="o">(&lt;/span>GLMTransformer, config, **init_kwargs&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> File &lt;span class="s2">&amp;#34;/usr/local/lib/python3.10/dist-packages/torch/nn/utils/init.py&amp;#34;&lt;/span>, line 52, in skip_init
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> module_cls&lt;span class="o">(&lt;/span>*args, **kwargs&lt;span class="o">)&lt;/span>.to_empty&lt;span class="o">(&lt;/span>&lt;span class="nv">device&lt;/span>&lt;span class="o">=&lt;/span>final_device&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> File &lt;span class="s2">&amp;#34;/usr/local/lib/python3.10/dist-packages/torch/nn/modules/module.py&amp;#34;&lt;/span>, line 1039, in to_empty
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> self._apply&lt;span class="o">(&lt;/span>lambda t: torch.empty_like&lt;span class="o">(&lt;/span>t, &lt;span class="nv">device&lt;/span>&lt;span class="o">=&lt;/span>device&lt;span class="o">)&lt;/span>, &lt;span class="nv">recurse&lt;/span>&lt;span class="o">=&lt;/span>recurse&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> File &lt;span class="s2">&amp;#34;/usr/local/lib/python3.10/dist-packages/torch/nn/modules/module.py&amp;#34;&lt;/span>, line 810, in _apply
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> module._apply&lt;span class="o">(&lt;/span>fn&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> File &lt;span class="s2">&amp;#34;/usr/local/lib/python3.10/dist-packages/torch/nn/modules/module.py&amp;#34;&lt;/span>, line 810, in _apply
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> module._apply&lt;span class="o">(&lt;/span>fn&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> File &lt;span class="s2">&amp;#34;/usr/local/lib/python3.10/dist-packages/torch/nn/modules/module.py&amp;#34;&lt;/span>, line 810, in _apply
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> module._apply&lt;span class="o">(&lt;/span>fn&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">[&lt;/span>Previous line repeated &lt;span class="m">1&lt;/span> more time&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> File &lt;span class="s2">&amp;#34;/usr/local/lib/python3.10/dist-packages/torch/nn/modules/module.py&amp;#34;&lt;/span>, line 833, in _apply
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">param_applied&lt;/span> &lt;span class="o">=&lt;/span> fn&lt;span class="o">(&lt;/span>param&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> File &lt;span class="s2">&amp;#34;/usr/local/lib/python3.10/dist-packages/torch/nn/modules/module.py&amp;#34;&lt;/span>, line 1039, in &amp;lt;lambda&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> self._apply&lt;span class="o">(&lt;/span>lambda t: torch.empty_like&lt;span class="o">(&lt;/span>t, &lt;span class="nv">device&lt;/span>&lt;span class="o">=&lt;/span>device&lt;span class="o">)&lt;/span>, &lt;span class="nv">recurse&lt;/span>&lt;span class="o">=&lt;/span>recurse&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> File &lt;span class="s2">&amp;#34;/usr/local/lib/python3.10/dist-packages/torch/_refs/__init__.py&amp;#34;&lt;/span>, line 4681, in empty_like
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> torch.empty_permuted&lt;span class="o">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">torch.cuda.OutOfMemoryError: CUDA out of memory. Tried to allocate 108.00 MiB. GPU &lt;span class="m">0&lt;/span> has a total capacty of 7.75 GiB of which 93.25 MiB is free. Including non-PyTorch memory, this process has 6.98 GiB memory in use. Of the allocated memory 6.87 GiB is allocated by PyTorch, and 1.58 MiB is reserved by PyTorch but unallocated. If reserved but unallocated memory is large try setting max_split_size_mb to avoid fragmentation. See documentation &lt;span class="k">for&lt;/span> Memory Management and PYTORCH_CUDA_ALLOC_CONF
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>根据issue调整量化命令，我还以为直接改量化模型名称就行：&lt;/p>
&lt;p>把&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">model = AutoModel.from_pretrained(&amp;#34;THUDM/chatglm2-6b-int4&amp;#34;, trust_remote_code=True, device=&amp;#39;cuda&amp;#39;)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>调整成：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">model = AutoModel.from_pretrained(&amp;#34;THUDM/chatglm2-6b-int4&amp;#34;, trust_remote_code=True).quantize(4).cuda()
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>解释是:&lt;code>如果在 from_pretrained 里传入 device='cuda'，会把量化前的模型构建在 GPU上。&lt;/code> ,显卡只有8G 跑不了。&lt;/p>
&lt;p>所以现在就可以了：&lt;/p>
&lt;p>&lt;img src="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_36.png"
width="1329"
height="154"
srcset="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_36_hu44e64bfe7eb19006f4e234d8556105fd_15191_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_36_hu44e64bfe7eb19006f4e234d8556105fd_15191_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_36.png"
class="gallery-image"
data-flex-grow="862"
data-flex-basis="2071px"
>
&lt;img src="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_37.png"
width="1563"
height="822"
srcset="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_37_huc51cd965d08565051ba1ab05f3cf254a_106334_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_37_huc51cd965d08565051ba1ab05f3cf254a_106334_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_37.png"
class="gallery-image"
data-flex-grow="190"
data-flex-basis="456px"
>
问了两个问题，显存涨了300多M:
&lt;img src="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_38.png"
width="1035"
height="538"
srcset="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_38_hud0455aee8974bb8f2d60d2c4f77f1215_27698_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_38_hud0455aee8974bb8f2d60d2c4f77f1215_27698_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_38.png"
class="gallery-image"
data-flex-grow="192"
data-flex-basis="461px"
>
平均一个问题涨了100M显存占用,回答内容还不错，比我想象中要聪明一点点
&lt;img src="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_39.png"
width="1893"
height="783"
srcset="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_39_hua731797e822cc077e9e8c011c502e344_191679_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_39_hua731797e822cc077e9e8c011c502e344_191679_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_39.png"
class="gallery-image"
data-flex-grow="241"
data-flex-basis="580px"
>&lt;/p>
&lt;h2 id="web测试">WEB测试
&lt;/h2>&lt;p>找到官方的项目地址：https://github.com/THUDM/ChatGLM2-6B&lt;/p>
&lt;p>因为我是从Hugging Face 上下载的没有web测试的代码文件&lt;/p>
&lt;p>找到web_demo2.py 根据自己的显卡显存调整一下量化等级代码：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@st.cache_resource&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">get_model&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">tokenizer&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">AutoTokenizer&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">from_pretrained&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;THUDM/chatglm2-6b-int4&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">trust_remote_code&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">True&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">model&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">AutoModel&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">from_pretrained&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;THUDM/chatglm2-6b-int4&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">trust_remote_code&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">True&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">quantize&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">cuda&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 多显卡支持，使用下面两行代替上面一行，将num_gpus改为你实际的显卡数量&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># from utils import load_model_on_gpus&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># model = load_model_on_gpus(&amp;#34;THUDM/chatglm2-6b&amp;#34;, num_gpus=2)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">model&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">model&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">eval&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">tokenizer&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">model&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>运行命令并访问：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">streamlit run web.py
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_40.png"
width="843"
height="202"
srcset="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_40_hubc240723e4cfdb553ae26fbaeb6c50d7_11683_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_40_hubc240723e4cfdb553ae26fbaeb6c50d7_11683_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_40.png"
class="gallery-image"
data-flex-grow="417"
data-flex-basis="1001px"
>&lt;br>
&lt;img src="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_41.png"
width="3826"
height="1860"
srcset="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_41_huecf58d91f5bfde6c738313bb5e9b069d_215084_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/img_41_huecf58d91f5bfde6c738313bb5e9b069d_215084_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_41.png"
class="gallery-image"
data-flex-grow="205"
data-flex-basis="493px"
>&lt;/p>
&lt;p>大模型的生成结果的文件流 可以通过&lt;code>streamlit&lt;/code>流式传输 ，不用跟命令行一样等待全部结果生成出来返回，体验非常棒~&lt;/p>
&lt;p>&lt;img src="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/show.gif"
width="3185"
height="1699"
srcset="https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/show_hud044b66fa4cec6b1bb4c7e7e7dfce9fc_1896557_480x0_resize_box_1.gif 480w, https://blog.tuwei.space/p/%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%BC%80%E5%A7%8B%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2chatglm2-6b%E5%A4%A7%E6%A8%A1%E5%9E%8B/show_hud044b66fa4cec6b1bb4c7e7e7dfce9fc_1896557_1024x0_resize_box_1.gif 1024w"
loading="lazy"
alt="show.gif"
class="gallery-image"
data-flex-grow="187"
data-flex-basis="449px"
>&lt;/p>
&lt;h1 id="总结">总结
&lt;/h1>&lt;p>整个环境搭建流程还算比较顺利，没有卡很久 ，然后大模型问答的结果内容比我想象中要好很多，感觉比ChatGPT3.5只差了一点点 ，主要是回复得非常快，这是在第三方的在线部署的模型是体验不到的，后面可以尝试找些数据做微调训练了~&lt;/p>
&lt;p>敬请期待~&lt;/p></description></item><item><title>记录一次ChatGPT私有ChatGPT网页应用搭建教程</title><link>https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1chatgpt%E7%A7%81%E6%9C%89chatgpt%E7%BD%91%E9%A1%B5%E5%BA%94%E7%94%A8%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B/</link><pubDate>Mon, 04 Sep 2023 22:50:54 +0800</pubDate><guid>https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1chatgpt%E7%A7%81%E6%9C%89chatgpt%E7%BD%91%E9%A1%B5%E5%BA%94%E7%94%A8%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B/</guid><description>&lt;img src="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1chatgpt%E7%A7%81%E6%9C%89chatgpt%E7%BD%91%E9%A1%B5%E5%BA%94%E7%94%A8%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B/title.jpeg" alt="Featured image of post 记录一次ChatGPT私有ChatGPT网页应用搭建教程" />&lt;h1 id="前言">前言
&lt;/h1>&lt;p>ChatGPT 是目前最火热的生成式人工智能工具，由OpenAI公司研发发布，我现在每天都在用它&lt;/p>
&lt;p>上篇文章讲了如何使用ChatGPT的使用技巧还给大家免费分享我自己搭建的ChatGPT网页应用《分享一下ChatGPT相关使用技巧》，有空的同学可以点击文章标题链接可以看一下。&lt;/p>
&lt;p>今天就来简单分享一下怎么安装它的镜像站。&lt;/p>
&lt;p>普通人可以直接使用我的搭建的私有ChatGPT网页应用，有兴趣的同学可以跟着我的教程来学着搭建一下。（有一定的门槛）&lt;/p>
&lt;h1 id="必要条件">必要条件
&lt;/h1>&lt;ul>
&lt;li>拥有一个可以访问ChatGPT 官网的和GitHub的网络环境，ChatGPT 官网地址：https://openai.com/&lt;/li>
&lt;li>购买一个ChatGPT的Key，推荐一个购买地址（0.6元人名币5刀余额的API KEY，不想买自己要用想办法用其他国家的手机号注册）：https://gpt888.shop/ (发卡网站不稳定有一定时效性)&lt;/li>
&lt;li>一台可以使用Docker的机器，最好有个域名，可以公网访问更佳~&lt;/li>
&lt;/ul>
&lt;h1 id="镜私有chatgpt网页应用推荐">镜私有ChatGPT网页应用推荐
&lt;/h1>&lt;p>下面两个开源的私有ChatGPT网页应用自己都有实践搭建过，并且市面上大多数公开分享项目都来自于这两个项目。&lt;/p>
&lt;p>1.https://github.com/Yidadaa/ChatGPT-Next-Web&lt;/p>
&lt;p>前端比较好看，交互体验非常好，感觉体验比官网还好，而且自带提示词，自带prompt提示词仓库，点击就可以使用，功能比较强大，最新版已支持Google 的 Gemini AI机器人。&lt;/p>
&lt;p>最早主分支在2023年3月7日首次提交，截止到目前24年2月28日为止已有62.3k star。&lt;/p>
&lt;p>效果：
&lt;img src="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1chatgpt%E7%A7%81%E6%9C%89chatgpt%E7%BD%91%E9%A1%B5%E5%BA%94%E7%94%A8%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B/img_3.png"
width="1600"
height="868"
srcset="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1chatgpt%E7%A7%81%E6%9C%89chatgpt%E7%BD%91%E9%A1%B5%E5%BA%94%E7%94%A8%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B/img_3_huae8e5b0189b3eee532dd7ce6a00521bc_239651_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1chatgpt%E7%A7%81%E6%9C%89chatgpt%E7%BD%91%E9%A1%B5%E5%BA%94%E7%94%A8%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B/img_3_huae8e5b0189b3eee532dd7ce6a00521bc_239651_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_3.png"
class="gallery-image"
data-flex-grow="184"
data-flex-basis="442px"
>&lt;/p>
&lt;p>2.https://github.com/Chanzhaoyu/chatgpt-web&lt;/p>
&lt;p>页面比较简单，实用，便捷快捷。自己一直在用，出的时候比较早。
最早主分支在2023年2月9日首次提，交截止到目前24年2月28日为止已有29.6k star。&lt;/p>
&lt;p>效果：
&lt;img src="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1chatgpt%E7%A7%81%E6%9C%89chatgpt%E7%BD%91%E9%A1%B5%E5%BA%94%E7%94%A8%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B/img.png"
width="2012"
height="1480"
srcset="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1chatgpt%E7%A7%81%E6%9C%89chatgpt%E7%BD%91%E9%A1%B5%E5%BA%94%E7%94%A8%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B/img_hu93e1ea7614b795e0e423a28910244908_179198_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1chatgpt%E7%A7%81%E6%9C%89chatgpt%E7%BD%91%E9%A1%B5%E5%BA%94%E7%94%A8%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B/img_hu93e1ea7614b795e0e423a28910244908_179198_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img.png"
class="gallery-image"
data-flex-grow="135"
data-flex-basis="326px"
>&lt;/p>
&lt;h1 id="搭建教程">搭建教程
&lt;/h1>&lt;p>搭建非常简单，知道会使用docker,使用docker-compose容器编排工具一键搭建，以第二个镜像站为例新建一个docker-compose.yaml文件：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;3&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">services&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">app&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">container_name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">chatgpt-web&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">chenzhaoyu94/chatgpt-web&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># 总是使用latest,更新时重新pull该tag镜像即可&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">restart&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">always&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">3002&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="m">3002&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">environment&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># 二选一&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">OPENAI_API_KEY&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sk-*************************** &lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># 购买的key&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># 反向代理，可选&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c">#API_REVERSE_PROXY: https://gpt.pawan.krd/backend-api/conversation # 网络环境不支持访问OpenAI 的时候可以使用第三方的网络代理或者自建代理&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># 超时，单位毫秒，可选&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">TIMEOUT_MS&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">120000&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>然后执行命令：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">docker-compose up -d
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>命令执行完毕后服务器就会自动拉取&lt;code>chenzhaoyu94/chatgpt-web&lt;/code>镜像，然后在本地启动一个服务，宿主机端口为3002
我这里是用内网机器部署的，内网访问：&lt;code>http://192.168.2.129:3002&lt;/code>（第一次访问加载比较慢）:&lt;/p>
&lt;p>&lt;img src="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1chatgpt%E7%A7%81%E6%9C%89chatgpt%E7%BD%91%E9%A1%B5%E5%BA%94%E7%94%A8%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B/img_2.png"
width="3549"
height="1883"
srcset="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1chatgpt%E7%A7%81%E6%9C%89chatgpt%E7%BD%91%E9%A1%B5%E5%BA%94%E7%94%A8%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B/img_2_hu251a2dbe08a467f0e75c059e6d314696_64650_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1chatgpt%E7%A7%81%E6%9C%89chatgpt%E7%BD%91%E9%A1%B5%E5%BA%94%E7%94%A8%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B/img_2_hu251a2dbe08a467f0e75c059e6d314696_64650_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_2.png"
class="gallery-image"
data-flex-grow="188"
data-flex-basis="452px"
>&lt;/p>
&lt;p>可以直接访问了&lt;/p>
&lt;h1 id="搭建完毕">搭建完毕
&lt;/h1>&lt;p>搭建非常简单，基础，主要难点在于网络环境的搭建，需要正常访问OpenAI，还有一个合理便宜的Key的购买渠道。然后后期怎么使用域名解析这个服务能随时随地访问。这里就不做详细介绍了，每个人的情况不一样。&lt;/p>
&lt;p>我自己对这个chatgpt-web项目做了一点修改，需要提示验证码密码的时候我加了一个我自己的微信公共号二维码，替换了原项目中的Icon，然后更改了一下提示，提示需要回复关键字获取ChatGPT网页应用和密码，如果有需要可以私聊我，我会把修改过后的源码无偿提供给大家。&lt;/p>
&lt;p>感谢大家看到这里，下篇会研究一下Google公司最近推出的Gemma模型 ，看看它跟ChatGPT有多大差别， 之前用过他们的borad，这个也是跟ChatGPT一样，现在已经开发免费使用，效果也非常不错，只是没有ChatGPT名气大。&lt;/p>
&lt;p>OpenAI 公司的视频生成大模型Sora现在已开放对外申请，感兴趣也可以访问我的历史文章git：《OpenAI Sora已开放对外申请，大家可以申请了。》申请一下&lt;/p></description></item><item><title>安装Jupyter Notebook</title><link>https://blog.tuwei.space/p/%E5%AE%89%E8%A3%85jupyter-notebook/</link><pubDate>Sun, 02 Jul 2023 14:13:08 +0800</pubDate><guid>https://blog.tuwei.space/p/%E5%AE%89%E8%A3%85jupyter-notebook/</guid><description>&lt;img src="https://blog.tuwei.space/p/%E5%AE%89%E8%A3%85jupyter-notebook/title2.jpg" alt="Featured image of post 安装Jupyter Notebook" />&lt;p>查看哪些docker镜像：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">root@koala9527:/home/jijiwaiwai/my-project/jupyter-notebook# sudo docker search jupyter
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">NAME DESCRIPTION STARS OFFICIAL AUTOMATED
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">jupyter/scipy-notebook Scientific Jupyter Notebook Python Stack fro… &lt;span class="m">406&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">jupyter/tensorflow-notebook Scientific Jupyter Notebook Python Stack w/ … &lt;span class="m">345&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">jupyter/all-spark-notebook Python, Scala, R and Spark Jupyter Notebook … &lt;span class="m">417&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">jupyter/pyspark-notebook Python and Spark Jupyter Notebook Stack from… &lt;span class="m">277&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">jupyter/datascience-notebook Data Science Jupyter Notebook Python Stack f… &lt;span class="m">1027&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">jupyterhub/singleuser single-user docker images &lt;span class="k">for&lt;/span> use with Jupyt… &lt;span class="m">45&lt;/span> &lt;span class="o">[&lt;/span>OK&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">jupyterhub/jupyterhub JupyterHub: multi-user Jupyter notebook serv… &lt;span class="m">326&lt;/span> &lt;span class="o">[&lt;/span>OK&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">jupyter/minimal-notebook Minimal Jupyter Notebook Python Stack from h… &lt;span class="m">183&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">jupyter/base-notebook Base image &lt;span class="k">for&lt;/span> Jupyter Notebook stacks from … &lt;span class="m">203&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">jupyterhub/k8s-hub &lt;span class="m">22&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">jupyterhub/k8s-network-tools &lt;span class="m">2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">jupyterhub/configurable-http-proxy node-http-proxy + REST API &lt;span class="m">6&lt;/span> &lt;span class="o">[&lt;/span>OK&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">jupyterhub/k8s-singleuser-sample &lt;span class="m">10&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">jupyter/nbviewer Jupyter Notebook Viewer &lt;span class="m">32&lt;/span> &lt;span class="o">[&lt;/span>OK&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">jupyter/r-notebook R Jupyter Notebook Stack from https://github… &lt;span class="m">54&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">jupyterhub/k8s-image-awaiter &lt;span class="m">2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">jupyter/repo2docker Turn git repositories into Jupyter enabled D… &lt;span class="m">21&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">jupyterhub/k8s-secret-sync &lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">jupyterhub/jupyterhub-onbuild onbuild version of JupyterHub images &lt;span class="m">6&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">bitnami/jupyter-base-notebook &lt;span class="m">39&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">jupyter/demo &lt;span class="o">(&lt;/span>DEPRECATED&lt;span class="o">)&lt;/span> Demo of the IPython/Jupyter Not… &lt;span class="m">16&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">jupyterhub/k8s-image-cleaner &lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">jupyterhub/k8s-binderhub &lt;span class="m">3&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">jupyterhub/k8s-pre-puller &lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>参考官网： &lt;a class="link" href="https://jupyter-docker-stacks.readthedocs.io/en/latest/using/common.html" target="_blank" rel="noopener"
>https://jupyter-docker-stacks.readthedocs.io/en/latest/using/common.html&lt;/a> 可以看到各个镜像的简要介绍&lt;/p>
&lt;p>我选择了第一个： 包含来自科研科学类的Python生态系统的热门软件包
&lt;img src="https://blog.tuwei.space/p/%E5%AE%89%E8%A3%85jupyter-notebook/img.png"
width="1399"
height="918"
srcset="https://blog.tuwei.space/p/%E5%AE%89%E8%A3%85jupyter-notebook/img_hu41b47653a947278cc973eb134d50d77f_105120_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E5%AE%89%E8%A3%85jupyter-notebook/img_hu41b47653a947278cc973eb134d50d77f_105120_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img.png"
class="gallery-image"
data-flex-grow="152"
data-flex-basis="365px"
>&lt;/p>
&lt;p>编写docker-compose.yml.后期维护有记录：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;3.3&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">services&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">scipy-notebook&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">jupyter/scipy-notebook:latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">container_name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">jupyter-notebook&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">tty&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">True&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">user&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">root&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">restart&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">always&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">8899&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="m">8888&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">volumes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="w"> &lt;/span>&lt;span class="l">${PWD}/.aws:/home/jovyan/.aws&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="w"> &lt;/span>&lt;span class="l">${PWD}/work:/home/jovyan/work&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">environment&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">REPOS=/home/jovyan/work/git&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">JUPYTER_TOKEN=********&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">JUPYTER_ENABLE_LAB=yes&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">NB_UID=1000&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c">#$(id -u)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">NB_GID=1000&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c">#(id -g)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>注意要 UID NB_GID 需要设置一下，属于linux 的用户组管理，会影响 Jupyter 服务器进程以及在容器内创建或挂载文件时的权限和所有权。&lt;br>
我这里设置的我安装系统后创建的第一个用户，通过&lt;code>id&lt;/code>查看，不建议用root 用户，貌似会启动不起来。&lt;br>
如果不设置就会报错：
&lt;img src="https://blog.tuwei.space/p/%E5%AE%89%E8%A3%85jupyter-notebook/img_1.png"
width="623"
height="86"
srcset="https://blog.tuwei.space/p/%E5%AE%89%E8%A3%85jupyter-notebook/img_1_hud8d02c82b8cd5921f8ec38089324489b_6071_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E5%AE%89%E8%A3%85jupyter-notebook/img_1_hud8d02c82b8cd5921f8ec38089324489b_6071_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_1.png"
class="gallery-image"
data-flex-grow="724"
data-flex-basis="1738px"
>&lt;/p>
&lt;p>启动命令：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">docker-compose -d
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>容器运行起来后宿主机的 &lt;code>${PWD}/work&lt;/code> 目录需要设置用户权限，我的这个目录是root 用户权限创建的其他用户不用进行创建文件的操作，需要使用&lt;code>chmod 777&lt;/code> 是其他用户组有读写权限：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">root@koala9527:/home/*****/my-project/jupyter-notebook# ls -l
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">总计 &lt;span class="m">8&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-rw-r--r-- &lt;span class="m">1&lt;/span> root root &lt;span class="m">471&lt;/span> 7月 &lt;span class="m">2&lt;/span> 16:06 docker-compose.yml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">drwxr-xr-x &lt;span class="m">2&lt;/span> root root &lt;span class="m">4096&lt;/span> 7月 &lt;span class="m">2&lt;/span> 15:25 work
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">root@koala9527:/home/*****/my-project/jupyter-notebook# chmod &lt;span class="m">777&lt;/span> work/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">root@koala9527:/home/*****/my-project/jupyter-notebook# ls -l
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">总计 &lt;span class="m">8&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-rw-r--r-- &lt;span class="m">1&lt;/span> root root &lt;span class="m">471&lt;/span> 7月 &lt;span class="m">2&lt;/span> 16:06 docker-compose.yml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">drwxrwxrwx &lt;span class="m">2&lt;/span> root root &lt;span class="m">4096&lt;/span> 7月 &lt;span class="m">2&lt;/span> 15:25 work
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>通过内网访问:
&lt;img src="https://blog.tuwei.space/p/%E5%AE%89%E8%A3%85jupyter-notebook/img_2.png"
width="1426"
height="997"
srcset="https://blog.tuwei.space/p/%E5%AE%89%E8%A3%85jupyter-notebook/img_2_hu000593f6f1bb8d23f02b88dc61ef18da_48674_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E5%AE%89%E8%A3%85jupyter-notebook/img_2_hu000593f6f1bb8d23f02b88dc61ef18da_48674_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_2.png"
class="gallery-image"
data-flex-grow="143"
data-flex-basis="343px"
>&lt;/p>
&lt;h2 id="验证使用">验证使用：
&lt;/h2>&lt;p>新建一个Notebook项目尝试运行：&lt;/p>
&lt;p>&lt;img src="https://blog.tuwei.space/p/%E5%AE%89%E8%A3%85jupyter-notebook/img_3.png"
width="935"
height="283"
srcset="https://blog.tuwei.space/p/%E5%AE%89%E8%A3%85jupyter-notebook/img_3_hud49a6608bb1a42ae3b84ab829acea071_13745_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E5%AE%89%E8%A3%85jupyter-notebook/img_3_hud49a6608bb1a42ae3b84ab829acea071_13745_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_3.png"
class="gallery-image"
data-flex-grow="330"
data-flex-basis="792px"
>&lt;/p></description></item><item><title>Kplayer 24小时BiliBili直播推流 docker部署教程</title><link>https://blog.tuwei.space/p/kplayer-24%E5%B0%8F%E6%97%B6bilibili%E7%9B%B4%E6%92%AD%E6%8E%A8%E6%B5%81-docker%E9%83%A8%E7%BD%B2%E6%95%99%E7%A8%8B/</link><pubDate>Thu, 02 Mar 2023 20:54:10 +0800</pubDate><guid>https://blog.tuwei.space/p/kplayer-24%E5%B0%8F%E6%97%B6bilibili%E7%9B%B4%E6%92%AD%E6%8E%A8%E6%B5%81-docker%E9%83%A8%E7%BD%B2%E6%95%99%E7%A8%8B/</guid><description>&lt;img src="https://blog.tuwei.space/p/kplayer-24%E5%B0%8F%E6%97%B6bilibili%E7%9B%B4%E6%92%AD%E6%8E%A8%E6%B5%81-docker%E9%83%A8%E7%BD%B2%E6%95%99%E7%A8%8B/2023-3-2-1677761236933.png" alt="Featured image of post Kplayer 24小时BiliBili直播推流 docker部署教程" />&lt;h2 id="前言">前言
&lt;/h2>&lt;p>看到张大妈网站有一个非常火的文章，分享如何使用docker 部署一个24小时直播推流的服务薅羊毛，正好有闲置的服务器，然后每天收益大概有1元钱，于是就想试一下。&lt;/p>
&lt;h2 id="项目介绍">项目介绍
&lt;/h2>&lt;p>项目地址：&lt;a class="link" href="https://github.com/bytelang/kplayer-go" target="_blank" rel="noopener"
>bytelang/kplayer-go&lt;/a>&lt;/p>
&lt;p>项目介绍看图
&lt;img src="https://blog.tuwei.space/p/kplayer-24%E5%B0%8F%E6%97%B6bilibili%E7%9B%B4%E6%92%AD%E6%8E%A8%E6%B5%81-docker%E9%83%A8%E7%BD%B2%E6%95%99%E7%A8%8B/img.png"
width="886"
height="767"
srcset="https://blog.tuwei.space/p/kplayer-24%E5%B0%8F%E6%97%B6bilibili%E7%9B%B4%E6%92%AD%E6%8E%A8%E6%B5%81-docker%E9%83%A8%E7%BD%B2%E6%95%99%E7%A8%8B/img_hu5e4fcc949d2f3a829177780f809df23e_50697_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/kplayer-24%E5%B0%8F%E6%97%B6bilibili%E7%9B%B4%E6%92%AD%E6%8E%A8%E6%B5%81-docker%E9%83%A8%E7%BD%B2%E6%95%99%E7%A8%8B/img_hu5e4fcc949d2f3a829177780f809df23e_50697_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img.png"
class="gallery-image"
data-flex-grow="115"
data-flex-basis="277px"
>&lt;/p>
&lt;h2 id="部署">部署
&lt;/h2>&lt;p>第一步准备docker 镜像&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">docker pull bytelang/kplayer:latest
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="准备配置文件路径映射">准备配置文件路径映射
&lt;/h2>&lt;p>准备工作，准备三个文件/文件夹映射&lt;br>
1.配置文件映射&lt;br>
2.播放资源的文件夹映射&lt;br>
3.缓存目录的映射&lt;/p>
&lt;p>我的服务器是Linux Centos系统，服务器叫宿主机。&lt;br>
宿主机文件地址是需要自己自定义的&lt;/p>
&lt;ul>
&lt;li>宿主机播放资源文件地址(放了一些抖音视频)：/home/***/mp4&lt;/li>
&lt;li>宿主机配置文件（稍后再说）：/home/***/kplayer/config.json&lt;/li>
&lt;li>宿主机直播编码缓存文件地址 ：/home/***/kplayer/cache&lt;/li>
&lt;/ul>
&lt;p>容器映射的文件目录是固定的&lt;br>
宿主机播放资源文件地址是根据config.json内容配置文件来定义的&lt;/p>
&lt;ul>
&lt;li>容器播放资源文件地址：/video&lt;/li>
&lt;li>宿主机配置文件（必须固定的地址）：/kplayer/config.json&lt;/li>
&lt;li>容器播放资源文件地址（必须固定的地址）：/kplayer/cache&lt;/li>
&lt;/ul>
&lt;h2 id="获取bilibili-直播推流地址">获取BiliBili 直播推流地址
&lt;/h2>&lt;p>1.首页直播：&lt;/p>
&lt;p>&lt;img src="https://blog.tuwei.space/p/kplayer-24%E5%B0%8F%E6%97%B6bilibili%E7%9B%B4%E6%92%AD%E6%8E%A8%E6%B5%81-docker%E9%83%A8%E7%BD%B2%E6%95%99%E7%A8%8B/img_1.png"
width="1076"
height="169"
srcset="https://blog.tuwei.space/p/kplayer-24%E5%B0%8F%E6%97%B6bilibili%E7%9B%B4%E6%92%AD%E6%8E%A8%E6%B5%81-docker%E9%83%A8%E7%BD%B2%E6%95%99%E7%A8%8B/img_1_hu1409b81e6cd502045fdd2511a394ebc9_184652_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/kplayer-24%E5%B0%8F%E6%97%B6bilibili%E7%9B%B4%E6%92%AD%E6%8E%A8%E6%B5%81-docker%E9%83%A8%E7%BD%B2%E6%95%99%E7%A8%8B/img_1_hu1409b81e6cd502045fdd2511a394ebc9_184652_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_1.png"
class="gallery-image"
data-flex-grow="636"
data-flex-basis="1528px"
>&lt;/p>
&lt;p>2.网页右侧开播设置：&lt;/p>
&lt;p>&lt;img src="https://blog.tuwei.space/p/kplayer-24%E5%B0%8F%E6%97%B6bilibili%E7%9B%B4%E6%92%AD%E6%8E%A8%E6%B5%81-docker%E9%83%A8%E7%BD%B2%E6%95%99%E7%A8%8B/img_2.png"
width="372"
height="736"
srcset="https://blog.tuwei.space/p/kplayer-24%E5%B0%8F%E6%97%B6bilibili%E7%9B%B4%E6%92%AD%E6%8E%A8%E6%B5%81-docker%E9%83%A8%E7%BD%B2%E6%95%99%E7%A8%8B/img_2_hua5d68031bef4da2c54dca2fadefd4efe_377606_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/kplayer-24%E5%B0%8F%E6%97%B6bilibili%E7%9B%B4%E6%92%AD%E6%8E%A8%E6%B5%81-docker%E9%83%A8%E7%BD%B2%E6%95%99%E7%A8%8B/img_2_hua5d68031bef4da2c54dca2fadefd4efe_377606_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_2.png"
class="gallery-image"
data-flex-grow="50"
data-flex-basis="121px"
>&lt;/p>
&lt;p>3.选择分类，点击开播，前提是需要身份证和姓名实名认证：&lt;/p>
&lt;p>&lt;img src="https://blog.tuwei.space/p/kplayer-24%E5%B0%8F%E6%97%B6bilibili%E7%9B%B4%E6%92%AD%E6%8E%A8%E6%B5%81-docker%E9%83%A8%E7%BD%B2%E6%95%99%E7%A8%8B/img_3.png"
width="1227"
height="823"
srcset="https://blog.tuwei.space/p/kplayer-24%E5%B0%8F%E6%97%B6bilibili%E7%9B%B4%E6%92%AD%E6%8E%A8%E6%B5%81-docker%E9%83%A8%E7%BD%B2%E6%95%99%E7%A8%8B/img_3_huaec79a58912ecc4caba5c3caf16ff351_87991_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/kplayer-24%E5%B0%8F%E6%97%B6bilibili%E7%9B%B4%E6%92%AD%E6%8E%A8%E6%B5%81-docker%E9%83%A8%E7%BD%B2%E6%95%99%E7%A8%8B/img_3_huaec79a58912ecc4caba5c3caf16ff351_87991_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_3.png"
class="gallery-image"
data-flex-grow="149"
data-flex-basis="357px"
>&lt;/p>
&lt;p>4.得到直播推流地址：&lt;/p>
&lt;p>&lt;img src="https://blog.tuwei.space/p/kplayer-24%E5%B0%8F%E6%97%B6bilibili%E7%9B%B4%E6%92%AD%E6%8E%A8%E6%B5%81-docker%E9%83%A8%E7%BD%B2%E6%95%99%E7%A8%8B/img_4.png"
width="797"
height="374"
srcset="https://blog.tuwei.space/p/kplayer-24%E5%B0%8F%E6%97%B6bilibili%E7%9B%B4%E6%92%AD%E6%8E%A8%E6%B5%81-docker%E9%83%A8%E7%BD%B2%E6%95%99%E7%A8%8B/img_4_hu422655f704384936add689f4709b2c8f_14665_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/kplayer-24%E5%B0%8F%E6%97%B6bilibili%E7%9B%B4%E6%92%AD%E6%8E%A8%E6%B5%81-docker%E9%83%A8%E7%BD%B2%E6%95%99%E7%A8%8B/img_4_hu422655f704384936add689f4709b2c8f_14665_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_4.png"
class="gallery-image"
data-flex-grow="213"
data-flex-basis="511px"
>&lt;/p>
&lt;p>&lt;code>服务器地址&lt;/code> 拼接上 &lt;code>串流密钥&lt;/code> 就是推流的地址：
&lt;code>rtmp://live-push.bilivideo.com/live-bvc/?streamname=live_******_******&amp;amp;key=**************&amp;amp;schedule=rtmp&amp;amp;pflag=1&lt;/code>&lt;/p>
&lt;h2 id="configjson配置文件内容">config.json配置文件内容
&lt;/h2>&lt;p>在宿主机/home/***/kplayer/config.json内容如下（把上面获取的推流地址替换到下面的配置文件中） ：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">{
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;version&amp;#34;: &amp;#34;2.0.0&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;resource&amp;#34;: {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;lists&amp;#34;: [
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;/video/&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ],
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;extensions&amp;#34;: [&amp;#34;mp4&amp;#34;]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> },
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;output&amp;#34;: {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;lists&amp;#34;: [
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;path&amp;#34;: &amp;#34;rtmp://live-push.bilivideo.com/live-bvc/?streamname=live_******_******&amp;amp;key=**************&amp;amp;schedule=rtmp&amp;amp;pflag=1&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ],
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;reconnect_internal&amp;#34;: 5
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> },
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;play&amp;#34;: {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;fill_strategy&amp;#34;: &amp;#34;ratio&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;skip_invalid_resource&amp;#34;: true,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;cache_on&amp;#34;: true,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;play_model&amp;#34;: &amp;#34;random&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>注意 &lt;code>['resource']['lists']&lt;/code> 的配置内容就是 容器内的播放资源文件地址&lt;/p>
&lt;p>&lt;code>&amp;quot;cache_on&amp;quot;:true&lt;/code> 就是启用推流编码缓存，会生成缓存，命中缓存节约CPU资源&lt;/p>
&lt;p>&lt;code>&amp;quot;play_model&amp;quot;: &amp;quot;random&amp;quot;&lt;/code> 就是在播放列表中随机播放&lt;/p>
&lt;h2 id="启动运行">启动运行
&lt;/h2>&lt;p>使用docker 运行容器 加上上面的文件目录映射就可以了：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">docker run -td --name&lt;span class="o">=&lt;/span>kplayer -v /home/***/mp4:/video -v /home/***/kplayer/config.json:/kplayer/config.json -v /home/***/kplayer/cache:/kplayer/cache --restart&lt;span class="o">=&lt;/span>always bytelang/kplayer:latest
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>使用&lt;code>docker logs kplayer&lt;/code>查看日志，看到下面的日志就表示成功了：
&lt;img src="https://blog.tuwei.space/p/kplayer-24%E5%B0%8F%E6%97%B6bilibili%E7%9B%B4%E6%92%AD%E6%8E%A8%E6%B5%81-docker%E9%83%A8%E7%BD%B2%E6%95%99%E7%A8%8B/img_5.png"
width="965"
height="233"
srcset="https://blog.tuwei.space/p/kplayer-24%E5%B0%8F%E6%97%B6bilibili%E7%9B%B4%E6%92%AD%E6%8E%A8%E6%B5%81-docker%E9%83%A8%E7%BD%B2%E6%95%99%E7%A8%8B/img_5_hu5e6460b4af65fd932334b2d0719049d6_30334_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/kplayer-24%E5%B0%8F%E6%97%B6bilibili%E7%9B%B4%E6%92%AD%E6%8E%A8%E6%B5%81-docker%E9%83%A8%E7%BD%B2%E6%95%99%E7%A8%8B/img_5_hu5e6460b4af65fd932334b2d0719049d6_30334_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_5.png"
class="gallery-image"
data-flex-grow="414"
data-flex-basis="993px"
>
访问直播地址也正常直播了。&lt;/p></description></item><item><title>记录一次使用docker 安装Alist插件 挂载本地存储和网盘</title><link>https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E4%BD%BF%E7%94%A8docker-%E5%AE%89%E8%A3%85alist%E6%8F%92%E4%BB%B6-%E6%8C%82%E8%BD%BD%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E5%92%8C%E7%BD%91%E7%9B%98/</link><pubDate>Thu, 02 Feb 2023 21:20:24 +0800</pubDate><guid>https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E4%BD%BF%E7%94%A8docker-%E5%AE%89%E8%A3%85alist%E6%8F%92%E4%BB%B6-%E6%8C%82%E8%BD%BD%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E5%92%8C%E7%BD%91%E7%9B%98/</guid><description>&lt;img src="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E4%BD%BF%E7%94%A8docker-%E5%AE%89%E8%A3%85alist%E6%8F%92%E4%BB%B6-%E6%8C%82%E8%BD%BD%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E5%92%8C%E7%BD%91%E7%9B%98/img_14.png" alt="Featured image of post 记录一次使用docker 安装Alist插件 挂载本地存储和网盘" />&lt;p>前篇文章记录了斐讯N1怎么安装frpc内网穿透，现在来继续折腾Alist插件,把本地存储和网盘集中到自己的搭建的Web服务中。&lt;/p>
&lt;p>主要是看中了Alist颜值高和网盘挂载的功能。&lt;/p>
&lt;h1 id="使用docker-安装-alist">使用Docker 安装 Alist
&lt;/h1>&lt;p>N1盒子已经自带了Docker软件，接下来直接使用Docker安装Alist，注意映射的本地目录。&lt;/p>
&lt;p>我自己想让Alist管理的本地文件夹是N1盒子插的一块硬盘特定的文件夹&lt;br>
文件目录为：/sharedfolders/N1/alist&lt;br>
官方的教程是把容器里面的alist运行配置映射到宿主机（alist容器内的配置文件路径：/opt/alist/data）&lt;br>
我再添加一个目录映射专门把宿主机的文件映射到Alist容器内部，让Alist管理&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">docker run -d --restart&lt;span class="o">=&lt;/span>always -v /sharedfolders/N1/alist/config:/opt/alist/data -v /sharedfolders/N1/alist/data:/home -p 5244:5244 --name&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;alist&amp;#34;&lt;/span> xhofe/alist:latest
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>然后在命令行运行&lt;code>docker exec -it alist ./alist -password&lt;/code>查看初始密码：&lt;/p>
&lt;p>&lt;img src="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E4%BD%BF%E7%94%A8docker-%E5%AE%89%E8%A3%85alist%E6%8F%92%E4%BB%B6-%E6%8C%82%E8%BD%BD%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E5%92%8C%E7%BD%91%E7%9B%98/img.png"
width="723"
height="159"
srcset="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E4%BD%BF%E7%94%A8docker-%E5%AE%89%E8%A3%85alist%E6%8F%92%E4%BB%B6-%E6%8C%82%E8%BD%BD%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E5%92%8C%E7%BD%91%E7%9B%98/img_hu773a691f27ca10dc601086f0a4182979_11863_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E4%BD%BF%E7%94%A8docker-%E5%AE%89%E8%A3%85alist%E6%8F%92%E4%BB%B6-%E6%8C%82%E8%BD%BD%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E5%92%8C%E7%BD%91%E7%9B%98/img_hu773a691f27ca10dc601086f0a4182979_11863_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img.png"
class="gallery-image"
data-flex-grow="454"
data-flex-basis="1091px"
>&lt;/p>
&lt;p>访问内网地址&lt;code>192.168.2.122:5244&lt;/code>进入alist的管理界面：&lt;/p>
&lt;p>&lt;img src="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E4%BD%BF%E7%94%A8docker-%E5%AE%89%E8%A3%85alist%E6%8F%92%E4%BB%B6-%E6%8C%82%E8%BD%BD%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E5%92%8C%E7%BD%91%E7%9B%98/img_1.png"
width="1050"
height="893"
srcset="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E4%BD%BF%E7%94%A8docker-%E5%AE%89%E8%A3%85alist%E6%8F%92%E4%BB%B6-%E6%8C%82%E8%BD%BD%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E5%92%8C%E7%BD%91%E7%9B%98/img_1_hu6a834248cd0ecff056c78e27a9f129ef_13225_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E4%BD%BF%E7%94%A8docker-%E5%AE%89%E8%A3%85alist%E6%8F%92%E4%BB%B6-%E6%8C%82%E8%BD%BD%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E5%92%8C%E7%BD%91%E7%9B%98/img_1_hu6a834248cd0ecff056c78e27a9f129ef_13225_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_1.png"
class="gallery-image"
data-flex-grow="117"
data-flex-basis="282px"
>&lt;/p>
&lt;p>一进来就会提示没有挂载，此时不着急，点击下方登录，使用上面的密码登录，用户名是：&lt;code>admin&lt;/code>&lt;/p>
&lt;p>登录进入改下密码，然后设置储存：&lt;/p>
&lt;p>&lt;img src="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E4%BD%BF%E7%94%A8docker-%E5%AE%89%E8%A3%85alist%E6%8F%92%E4%BB%B6-%E6%8C%82%E8%BD%BD%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E5%92%8C%E7%BD%91%E7%9B%98/img_2.png"
width="847"
height="641"
srcset="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E4%BD%BF%E7%94%A8docker-%E5%AE%89%E8%A3%85alist%E6%8F%92%E4%BB%B6-%E6%8C%82%E8%BD%BD%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E5%92%8C%E7%BD%91%E7%9B%98/img_2_hu35a8c3ec33122e7a807c03ab26f42c58_18397_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E4%BD%BF%E7%94%A8docker-%E5%AE%89%E8%A3%85alist%E6%8F%92%E4%BB%B6-%E6%8C%82%E8%BD%BD%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E5%92%8C%E7%BD%91%E7%9B%98/img_2_hu35a8c3ec33122e7a807c03ab26f42c58_18397_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_2.png"
class="gallery-image"
data-flex-grow="132"
data-flex-basis="317px"
>&lt;/p>
&lt;p>添加本机存储：&lt;/p>
&lt;p>&lt;img src="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E4%BD%BF%E7%94%A8docker-%E5%AE%89%E8%A3%85alist%E6%8F%92%E4%BB%B6-%E6%8C%82%E8%BD%BD%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E5%92%8C%E7%BD%91%E7%9B%98/img_3.png"
width="556"
height="729"
srcset="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E4%BD%BF%E7%94%A8docker-%E5%AE%89%E8%A3%85alist%E6%8F%92%E4%BB%B6-%E6%8C%82%E8%BD%BD%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E5%92%8C%E7%BD%91%E7%9B%98/img_3_hub4fefe620d6561a584070095c29d2ca1_21180_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E4%BD%BF%E7%94%A8docker-%E5%AE%89%E8%A3%85alist%E6%8F%92%E4%BB%B6-%E6%8C%82%E8%BD%BD%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E5%92%8C%E7%BD%91%E7%9B%98/img_3_hub4fefe620d6561a584070095c29d2ca1_21180_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_3.png"
class="gallery-image"
data-flex-grow="76"
data-flex-basis="183px"
>&lt;/p>
&lt;p>挂载/home目录 ，根文件夹路径也是/home：&lt;/p>
&lt;p>&lt;img src="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E4%BD%BF%E7%94%A8docker-%E5%AE%89%E8%A3%85alist%E6%8F%92%E4%BB%B6-%E6%8C%82%E8%BD%BD%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E5%92%8C%E7%BD%91%E7%9B%98/img_7.png"
width="504"
height="906"
srcset="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E4%BD%BF%E7%94%A8docker-%E5%AE%89%E8%A3%85alist%E6%8F%92%E4%BB%B6-%E6%8C%82%E8%BD%BD%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E5%92%8C%E7%BD%91%E7%9B%98/img_7_hu7d428690dd2c53555920550bf61a2cc2_25430_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E4%BD%BF%E7%94%A8docker-%E5%AE%89%E8%A3%85alist%E6%8F%92%E4%BB%B6-%E6%8C%82%E8%BD%BD%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E5%92%8C%E7%BD%91%E7%9B%98/img_7_hu7d428690dd2c53555920550bf61a2cc2_25430_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_7.png"
class="gallery-image"
data-flex-grow="55"
data-flex-basis="133px"
>&lt;/p>
&lt;p>点击添加就可以了。再访问&lt;code>192.168.2.122:5244&lt;/code>&lt;/p>
&lt;p>就看到挂载的本机存储了：&lt;/p>
&lt;p>&lt;img src="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E4%BD%BF%E7%94%A8docker-%E5%AE%89%E8%A3%85alist%E6%8F%92%E4%BB%B6-%E6%8C%82%E8%BD%BD%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E5%92%8C%E7%BD%91%E7%9B%98/img_4.png"
width="1312"
height="316"
srcset="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E4%BD%BF%E7%94%A8docker-%E5%AE%89%E8%A3%85alist%E6%8F%92%E4%BB%B6-%E6%8C%82%E8%BD%BD%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E5%92%8C%E7%BD%91%E7%9B%98/img_4_hu39588b26bf8708e0803a6d97ac77055d_8524_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E4%BD%BF%E7%94%A8docker-%E5%AE%89%E8%A3%85alist%E6%8F%92%E4%BB%B6-%E6%8C%82%E8%BD%BD%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E5%92%8C%E7%BD%91%E7%9B%98/img_4_hu39588b26bf8708e0803a6d97ac77055d_8524_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_4.png"
class="gallery-image"
data-flex-grow="415"
data-flex-basis="996px"
>
到现在基础功能就实现了&lt;/p>
&lt;h1 id="尝试挂载网盘">尝试挂载网盘
&lt;/h1>&lt;p>挂载天翼云盘尝试一下，相对比较简单&lt;/p>
&lt;p>在管理-&amp;gt;储存-&amp;gt;添加：&lt;/p>
&lt;p>&lt;img src="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E4%BD%BF%E7%94%A8docker-%E5%AE%89%E8%A3%85alist%E6%8F%92%E4%BB%B6-%E6%8C%82%E8%BD%BD%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E5%92%8C%E7%BD%91%E7%9B%98/img_5.png"
width="437"
height="940"
srcset="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E4%BD%BF%E7%94%A8docker-%E5%AE%89%E8%A3%85alist%E6%8F%92%E4%BB%B6-%E6%8C%82%E8%BD%BD%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E5%92%8C%E7%BD%91%E7%9B%98/img_5_hue4ea531dc6307c86f7964da8831778ce_24926_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E4%BD%BF%E7%94%A8docker-%E5%AE%89%E8%A3%85alist%E6%8F%92%E4%BB%B6-%E6%8C%82%E8%BD%BD%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E5%92%8C%E7%BD%91%E7%9B%98/img_5_hue4ea531dc6307c86f7964da8831778ce_24926_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_5.png"
class="gallery-image"
data-flex-grow="46"
data-flex-basis="111px"
>&lt;/p>
&lt;p>挂载路径就是在访问Alist的时候此时添加的储存的名字&lt;/p>
&lt;p>用户名就是天翼云的账号也就是手机号。密码也就是天翼云盘的登录密码&lt;/p>
&lt;p>根文件夹ID就是在访问web端的天翼云盘的文件夹ID, &lt;code>-11&lt;/code>就是网盘的根目录：&lt;/p>
&lt;p>&lt;img src="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E4%BD%BF%E7%94%A8docker-%E5%AE%89%E8%A3%85alist%E6%8F%92%E4%BB%B6-%E6%8C%82%E8%BD%BD%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E5%92%8C%E7%BD%91%E7%9B%98/img_6.png"
width="1282"
height="429"
srcset="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E4%BD%BF%E7%94%A8docker-%E5%AE%89%E8%A3%85alist%E6%8F%92%E4%BB%B6-%E6%8C%82%E8%BD%BD%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E5%92%8C%E7%BD%91%E7%9B%98/img_6_hu01df3ca97a5c7a28e76bd1cf04080d46_24653_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E4%BD%BF%E7%94%A8docker-%E5%AE%89%E8%A3%85alist%E6%8F%92%E4%BB%B6-%E6%8C%82%E8%BD%BD%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E5%92%8C%E7%BD%91%E7%9B%98/img_6_hu01df3ca97a5c7a28e76bd1cf04080d46_24653_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_6.png"
class="gallery-image"
data-flex-grow="298"
data-flex-basis="717px"
>&lt;/p>
&lt;h1 id="最后效果设置密码">最后效果&amp;amp;设置密码
&lt;/h1>&lt;p>&lt;img src="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E4%BD%BF%E7%94%A8docker-%E5%AE%89%E8%A3%85alist%E6%8F%92%E4%BB%B6-%E6%8C%82%E8%BD%BD%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E5%92%8C%E7%BD%91%E7%9B%98/img_12.png"
width="774"
height="373"
srcset="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E4%BD%BF%E7%94%A8docker-%E5%AE%89%E8%A3%85alist%E6%8F%92%E4%BB%B6-%E6%8C%82%E8%BD%BD%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E5%92%8C%E7%BD%91%E7%9B%98/img_12_hud54f07470190012631a481317093c46f_13858_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E4%BD%BF%E7%94%A8docker-%E5%AE%89%E8%A3%85alist%E6%8F%92%E4%BB%B6-%E6%8C%82%E8%BD%BD%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E5%92%8C%E7%BD%91%E7%9B%98/img_12_hud54f07470190012631a481317093c46f_13858_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_12.png"
class="gallery-image"
data-flex-grow="207"
data-flex-basis="498px"
>
&lt;img src="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E4%BD%BF%E7%94%A8docker-%E5%AE%89%E8%A3%85alist%E6%8F%92%E4%BB%B6-%E6%8C%82%E8%BD%BD%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E5%92%8C%E7%BD%91%E7%9B%98/img_8.png"
width="1258"
height="345"
srcset="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E4%BD%BF%E7%94%A8docker-%E5%AE%89%E8%A3%85alist%E6%8F%92%E4%BB%B6-%E6%8C%82%E8%BD%BD%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E5%92%8C%E7%BD%91%E7%9B%98/img_8_hud01fad7b41e3916482e9791d3e17eabb_9344_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E4%BD%BF%E7%94%A8docker-%E5%AE%89%E8%A3%85alist%E6%8F%92%E4%BB%B6-%E6%8C%82%E8%BD%BD%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E5%92%8C%E7%BD%91%E7%9B%98/img_8_hud01fad7b41e3916482e9791d3e17eabb_9344_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_8.png"
class="gallery-image"
data-flex-grow="364"
data-flex-basis="875px"
>&lt;/p>
&lt;p>接下来尝试可以给特定的文件夹添加密码&lt;/p>
&lt;p>在 在管理-&amp;gt;元信息-&amp;gt;添加：&lt;/p>
&lt;p>&lt;img src="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E4%BD%BF%E7%94%A8docker-%E5%AE%89%E8%A3%85alist%E6%8F%92%E4%BB%B6-%E6%8C%82%E8%BD%BD%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E5%92%8C%E7%BD%91%E7%9B%98/img_9.png"
width="607"
height="494"
srcset="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E4%BD%BF%E7%94%A8docker-%E5%AE%89%E8%A3%85alist%E6%8F%92%E4%BB%B6-%E6%8C%82%E8%BD%BD%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E5%92%8C%E7%BD%91%E7%9B%98/img_9_hu8b8ce4491cd3756c4ab226b4a82f148a_15961_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E4%BD%BF%E7%94%A8docker-%E5%AE%89%E8%A3%85alist%E6%8F%92%E4%BB%B6-%E6%8C%82%E8%BD%BD%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E5%92%8C%E7%BD%91%E7%9B%98/img_9_hu8b8ce4491cd3756c4ab226b4a82f148a_15961_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_9.png"
class="gallery-image"
data-flex-grow="122"
data-flex-basis="294px"
>&lt;/p>
&lt;p>设置目录和密码就可以了，推出登陆后访问这个文件夹就会提示输入密码：&lt;/p>
&lt;p>&lt;img src="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E4%BD%BF%E7%94%A8docker-%E5%AE%89%E8%A3%85alist%E6%8F%92%E4%BB%B6-%E6%8C%82%E8%BD%BD%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E5%92%8C%E7%BD%91%E7%9B%98/img_10.png"
width="1214"
height="309"
srcset="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E4%BD%BF%E7%94%A8docker-%E5%AE%89%E8%A3%85alist%E6%8F%92%E4%BB%B6-%E6%8C%82%E8%BD%BD%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E5%92%8C%E7%BD%91%E7%9B%98/img_10_hu7e2ef9d35aa9f172d238db9bec4b393b_10311_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E4%BD%BF%E7%94%A8docker-%E5%AE%89%E8%A3%85alist%E6%8F%92%E4%BB%B6-%E6%8C%82%E8%BD%BD%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E5%92%8C%E7%BD%91%E7%9B%98/img_10_hu7e2ef9d35aa9f172d238db9bec4b393b_10311_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_10.png"
class="gallery-image"
data-flex-grow="392"
data-flex-basis="942px"
>&lt;/p>
&lt;p>输入密码后还可以展示刚刚设置的文件夹说明：&lt;/p>
&lt;p>&lt;img src="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E4%BD%BF%E7%94%A8docker-%E5%AE%89%E8%A3%85alist%E6%8F%92%E4%BB%B6-%E6%8C%82%E8%BD%BD%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E5%92%8C%E7%BD%91%E7%9B%98/img_11.png"
width="767"
height="274"
srcset="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E4%BD%BF%E7%94%A8docker-%E5%AE%89%E8%A3%85alist%E6%8F%92%E4%BB%B6-%E6%8C%82%E8%BD%BD%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E5%92%8C%E7%BD%91%E7%9B%98/img_11_hud317d033da32f56ea5fae2a125204d94_12002_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E4%BD%BF%E7%94%A8docker-%E5%AE%89%E8%A3%85alist%E6%8F%92%E4%BB%B6-%E6%8C%82%E8%BD%BD%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E5%92%8C%E7%BD%91%E7%9B%98/img_11_hud317d033da32f56ea5fae2a125204d94_12002_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_11.png"
class="gallery-image"
data-flex-grow="279"
data-flex-basis="671px"
>&lt;/p>
&lt;p>后面我会把这这个Alist通过内网穿透使它能够在公网访问，然后尝试使用webdav挂载网盘到Windows，把网盘当作系统硬盘来使用&lt;/p></description></item><item><title>记录一次frp客户端安装</title><link>https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1frp%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%AE%89%E8%A3%85/</link><pubDate>Wed, 01 Feb 2023 21:02:54 +0800</pubDate><guid>https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1frp%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%AE%89%E8%A3%85/</guid><description>&lt;img src="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1frp%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%AE%89%E8%A3%85/title.png" alt="Featured image of post 记录一次frp客户端安装" />&lt;p>记录一次frp客户端安装&lt;/p>
&lt;p>最近是把老路由器换下来了，之前的使用的是路由器挂硬盘当Nas，换了新路由器没有USB接口，把之前的电视盒子斐讯N1拿出来了，刷了一个FastNas系统
，但是没有Frp内网穿透功能，只有自己安装。&lt;/p>
&lt;h2 id="下载解压">下载解压
&lt;/h2>&lt;p>frp项目地址：https://github.com/fatedier/frp
找到自己跟自己frp服务端匹配的版本 ，再确认N1的系统版本&lt;/p>
&lt;p>下载对应的客户端：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">wget https://github.com/fatedier/frp/releases/download/v0.34.2/frp_0.34.2_linux_arm64.tar.gz
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>解压tar.gz文件命令：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">tar -zxvf frp_0.34.2_linux_arm64.tar.gz
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>cd 进入到解压后的文件夹找到客户端需要用的文件分别为：&lt;code>frpc.ini&lt;/code> 和 &lt;code>frpc&lt;/code>&lt;/p>
&lt;p>首先编辑&lt;code>frpc.ini&lt;/code>配置文件连接服务端&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-ini" data-lang="ini">&lt;span class="line">&lt;span class="cl">&lt;span class="k">[common]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">server_addr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">***.***.***.***&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">server_port&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">7000&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">token&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">*****&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">[ssh]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">type&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">tcp&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">local_ip&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">127.0.0.1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">local_port&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">22&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">remote_port&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">37051&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>连接服务端只需要3个配置 ，地址，端口，密钥&lt;/p>
&lt;p>[ssh]是frp客户端需要穿透出去的服务
web服务是http服务的，基于tcp的可靠协议&lt;br>
local_ip本地服务地址&lt;br>
local_port本地服务的端口&lt;br>
remote_port穿透映射到公网服务器的端口&lt;/p>
&lt;p>然后把&lt;code>frpc.ini&lt;/code> 和 &lt;code>frpc&lt;/code>两个文件移动到自己设置的位置，尽量不要放到解压出来的文件夹，不然过了一段时间就会忘记会把它误删掉。&lt;/p>
&lt;p>我把它们分别移动到了/usr/local/frp/frpc 和 /etc/frp/frpc.ini位置&lt;/p>
&lt;p>然后使用系统自带的 sytemctl 服务管理功能 启动frpc服务并且开机自启&lt;/p>
&lt;p>找到 sytemctl 配置文件夹 /lib/systemd/system 新建 frpc.service 文件输入一下内容：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-ini" data-lang="ini">&lt;span class="line">&lt;span class="cl">&lt;span class="k">[Unit]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">Description&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">frpc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">Wants&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">network-online.target&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">After&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">network.target network-online.target&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">Requires&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">network-online.target&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">[Service]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">ExecStart&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">/usr/local/frp/frpc -c /etc/frp/frpc.ini&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">ExecStop&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">/bin/kill $MAINPID&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">Restart&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">always&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">RestartSec&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">5&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">StartLimitInterval&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">[Install]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">WantedBy&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">multi-user.target&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>然后执行&lt;code>systemctl start frpc&lt;/code> 启动frpc服务
然后使用&lt;code>systemctl status frpc&lt;/code> 查看服务状态:
&lt;img src="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1frp%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%AE%89%E8%A3%85/img.png"
width="1259"
height="262"
srcset="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1frp%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%AE%89%E8%A3%85/img_hue58d10d67f189e8c75eec270aa7f6dab_21582_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1frp%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%AE%89%E8%A3%85/img_hue58d10d67f189e8c75eec270aa7f6dab_21582_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img.png"
class="gallery-image"
data-flex-grow="480"
data-flex-basis="1153px"
>
最后执行&lt;code>systemctl enable frpc&lt;/code> 设置开机自启&lt;/p>
&lt;h2 id="最后测试">最后测试
&lt;/h2>&lt;p>使用公网IP，在frpc客户端配置的remote_port连接：
&lt;img src="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1frp%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%AE%89%E8%A3%85/img_1.png"
width="762"
height="533"
srcset="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1frp%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%AE%89%E8%A3%85/img_1_hu7d1c4624a7c1b23e5993970af83f9c95_23530_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1frp%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%AE%89%E8%A3%85/img_1_hu7d1c4624a7c1b23e5993970af83f9c95_23530_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_1.png"
class="gallery-image"
data-flex-grow="142"
data-flex-basis="343px"
>&lt;/p></description></item><item><title>制作自己的composer包，搭建satis私有仓库</title><link>https://blog.tuwei.space/p/%E5%88%B6%E4%BD%9C%E8%87%AA%E5%B7%B1%E7%9A%84composer%E5%8C%85%E6%90%AD%E5%BB%BAsatis%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93/</link><pubDate>Mon, 30 Jan 2023 11:55:51 +0800</pubDate><guid>https://blog.tuwei.space/p/%E5%88%B6%E4%BD%9C%E8%87%AA%E5%B7%B1%E7%9A%84composer%E5%8C%85%E6%90%AD%E5%BB%BAsatis%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93/</guid><description>&lt;img src="https://blog.tuwei.space/p/%E5%88%B6%E4%BD%9C%E8%87%AA%E5%B7%B1%E7%9A%84composer%E5%8C%85%E6%90%AD%E5%BB%BAsatis%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93/composer-title.jpg" alt="Featured image of post 制作自己的composer包，搭建satis私有仓库" />&lt;p>composer相当于PHP 包管理器,在日常工作中有很多可以复用的代码都可以制作私有composer包来进行分发，统一管理，特别是在公司内部一些新项目初始化需要使用一些公共的方法就不需要重复复制了，可以减少很多心智负担，使用composer命令就能下载项目的依赖包。&lt;/p>
&lt;h1 id="前提">前提
&lt;/h1>&lt;p>安装composer &lt;br>
&lt;img src="https://blog.tuwei.space/p/%E5%88%B6%E4%BD%9C%E8%87%AA%E5%B7%B1%E7%9A%84composer%E5%8C%85%E6%90%AD%E5%BB%BAsatis%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93/composer-version.png"
width="379"
height="58"
srcset="https://blog.tuwei.space/p/%E5%88%B6%E4%BD%9C%E8%87%AA%E5%B7%B1%E7%9A%84composer%E5%8C%85%E6%90%AD%E5%BB%BAsatis%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93/composer-version_hufdab7137f5cc0ff18fc1152456ab020f_2032_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E5%88%B6%E4%BD%9C%E8%87%AA%E5%B7%B1%E7%9A%84composer%E5%8C%85%E6%90%AD%E5%BB%BAsatis%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93/composer-version_hufdab7137f5cc0ff18fc1152456ab020f_2032_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="653"
data-flex-basis="1568px"
>&lt;/p>
&lt;p>安装Git&lt;br>
&lt;img src="https://blog.tuwei.space/p/%E5%88%B6%E4%BD%9C%E8%87%AA%E5%B7%B1%E7%9A%84composer%E5%8C%85%E6%90%AD%E5%BB%BAsatis%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93/git-v.png"
width="241"
height="54"
srcset="https://blog.tuwei.space/p/%E5%88%B6%E4%BD%9C%E8%87%AA%E5%B7%B1%E7%9A%84composer%E5%8C%85%E6%90%AD%E5%BB%BAsatis%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93/git-v_hub173a339e8ba13037a8c748952fba212_1674_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E5%88%B6%E4%BD%9C%E8%87%AA%E5%B7%B1%E7%9A%84composer%E5%8C%85%E6%90%AD%E5%BB%BAsatis%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93/git-v_hub173a339e8ba13037a8c748952fba212_1674_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="446"
data-flex-basis="1071px"
>&lt;/p>
&lt;p>公网IP机器，域名解析，Docker&lt;/p>
&lt;h1 id="制作composer包">制作composer包
&lt;/h1>&lt;p>先找到一个空目录，执行composer 初始化命令：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">composer init
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>然后出现一连串的询问：&lt;/p>
&lt;ul>
&lt;li>
&lt;p>1.This command will guide you through creating your composer.json config.`
Package name (&lt;!-- raw HTML omitted -->/&lt;!-- raw HTML omitted -->) :&lt;/p>
&lt;p>填写自己的包名,我填写的是：koala9527/composer-build&lt;/p>
&lt;/li>
&lt;li>
&lt;p>2.Description []:&lt;/p>
&lt;p>需要填写这个包的描述信息，我填写的是：just test&lt;/p>
&lt;/li>
&lt;li>
&lt;p>3.Author [**** &lt;a class="link" href="mailto:koala9217@qq.com" >koala9217@qq.com&lt;/a>, n to skip]:&lt;/p>
&lt;p>提示填写作者信息，可以直接跳过输入n&lt;/p>
&lt;/li>
&lt;li>
&lt;p>4.Minimum Stability []:&lt;/p>
&lt;p>提示填写最小稳定版本，可输入内容为：stable, RC, beta, alpha, dev，稳定性依次从左到右从大到小，越左边越稳定bug越少，自己测试的包就输入：dev&lt;/p>
&lt;/li>
&lt;li>
&lt;p>5.Package Type (e.g. library, project, metapackage, composer-plugin)[]: library&lt;/p>
&lt;p>提示填写项目类型&lt;/p>
&lt;blockquote>
&lt;p>library: 这是默认类型，它会简单地将文件复制到 vendor 目录。
project: 这表示当前包是一个项目，而不是一个库。
metapackage: 当一个空的包，包含依赖并且需要触发依赖的安装，这将不会对系统写入额外的文件。因此这种安装类型并不需要一个 dist 或 source。
composer-plugin: 一个安装类型为 composer-plugin 的包，它有一个自定义安装类型，可以为其它包提供一个 installler。&lt;/p>
&lt;/blockquote>
&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;/blockquote>
&lt;p>这里就是填的默认类型&lt;/p>
&lt;ul>
&lt;li>
&lt;p>6.License[]:
提示填写开源许可证
参考下图：
&lt;img src="https://blog.tuwei.space/p/%E5%88%B6%E4%BD%9C%E8%87%AA%E5%B7%B1%E7%9A%84composer%E5%8C%85%E6%90%AD%E5%BB%BAsatis%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93/License.png"
width="1000"
height="346"
srcset="https://blog.tuwei.space/p/%E5%88%B6%E4%BD%9C%E8%87%AA%E5%B7%B1%E7%9A%84composer%E5%8C%85%E6%90%AD%E5%BB%BAsatis%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93/License_hu8e8f22298f4a737c8d177088a1866641_99153_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E5%88%B6%E4%BD%9C%E8%87%AA%E5%B7%B1%E7%9A%84composer%E5%8C%85%E6%90%AD%E5%BB%BAsatis%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93/License_hu8e8f22298f4a737c8d177088a1866641_99153_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="289"
data-flex-basis="693px"
>&lt;/p>
&lt;p>填写一个最宽松的&lt;code>MIT&lt;/code>许可&lt;/p>
&lt;/li>
&lt;li>
&lt;p>7.Would you like to define your dependencies (require) interactively [yes]？&lt;/p>
&lt;p>提示是否需要设置依赖环境或者其他包，输入yes&lt;/p>
&lt;/li>
&lt;li>
&lt;p>8.Search for a package：&lt;/p>
&lt;p>提示搜索哪个依赖?依赖PHP,输入php&lt;/p>
&lt;/li>
&lt;li>
&lt;p>9.Enter the version constraint to require (or leave blank to use the latest version)：&lt;/p>
&lt;p>需要哪个版本？注意最好是精确输入自己电脑环境一样的PHP版本，我这里是7.4.30，不然会出现以下报错：
&lt;img src="https://blog.tuwei.space/p/%E5%88%B6%E4%BD%9C%E8%87%AA%E5%B7%B1%E7%9A%84composer%E5%8C%85%E6%90%AD%E5%BB%BAsatis%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93/composer-init-error.png"
width="983"
height="537"
srcset="https://blog.tuwei.space/p/%E5%88%B6%E4%BD%9C%E8%87%AA%E5%B7%B1%E7%9A%84composer%E5%8C%85%E6%90%AD%E5%BB%BAsatis%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93/composer-init-error_huff8ac06cde2af27c756344b300ea7788_24993_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E5%88%B6%E4%BD%9C%E8%87%AA%E5%B7%B1%E7%9A%84composer%E5%8C%85%E6%90%AD%E5%BB%BAsatis%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93/composer-init-error_huff8ac06cde2af27c756344b300ea7788_24993_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="183"
data-flex-basis="439px"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>10.重复询问7和8的问题，直接回车跳过&lt;/p>
&lt;/li>
&lt;li>
&lt;p>11.Add PSR-4 autoload mapping? laps namespace &amp;ldquo;Koala9527\Composerbuild&amp;quot;to the entered relative path. [src/, n to skip]:&lt;/p>
&lt;p>是否添加PSR-4自动加载映射，将命名空间 “Koala9527\Composerbuild “映射到输入的相对路径， 这里输入了n 跳过，在后面composer.json自己增加autolaod的配置&lt;/p>
&lt;p>接下来就会预览这个composer包composer.json的预览内容,下面会再次询问是否确认生成&lt;/p>
&lt;/li>
&lt;li>
&lt;p>11.Do you confirm generation[yes]?&lt;/p>
&lt;p>确认生成 yes&lt;/p>
&lt;/li>
&lt;li>
&lt;ol start="12">
&lt;li>Would you like to install dependencies now [yes]?&lt;/li>
&lt;/ol>
&lt;p>是否先择安装依赖，输入yes ,没有其他依赖会直接完成&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>最后整个过程截图：
&lt;img src="https://blog.tuwei.space/p/%E5%88%B6%E4%BD%9C%E8%87%AA%E5%B7%B1%E7%9A%84composer%E5%8C%85%E6%90%AD%E5%BB%BAsatis%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93/composer-init.png"
width="1081"
height="761"
srcset="https://blog.tuwei.space/p/%E5%88%B6%E4%BD%9C%E8%87%AA%E5%B7%B1%E7%9A%84composer%E5%8C%85%E6%90%AD%E5%BB%BAsatis%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93/composer-init_hu11b2617eeea72a2299c9213b7ac469cf_35365_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E5%88%B6%E4%BD%9C%E8%87%AA%E5%B7%B1%E7%9A%84composer%E5%8C%85%E6%90%AD%E5%BB%BAsatis%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93/composer-init_hu11b2617eeea72a2299c9213b7ac469cf_35365_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="142"
data-flex-basis="340px"
>&lt;/p>
&lt;p>生成的文件目录结构：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl"> &lt;span class="o">|--&lt;/span> &lt;span class="n">composer&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">build&lt;/span>&lt;span class="s1">&amp;#39;,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">|--&lt;/span> &lt;span class="n">composer&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">json&lt;/span>&lt;span class="s1">&amp;#39;,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">|--&lt;/span> &lt;span class="n">composer&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">lock&lt;/span>&lt;span class="s1">&amp;#39;,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">|--&lt;/span> &lt;span class="n">package&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">lock&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">json&lt;/span>&lt;span class="s1">&amp;#39;,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">|--&lt;/span> &lt;span class="n">vendor&lt;/span>&lt;span class="s1">&amp;#39;,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">|--&lt;/span> &lt;span class="n">autoload&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">php&lt;/span>&lt;span class="s1">&amp;#39;,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">|--&lt;/span> &lt;span class="n">composer&lt;/span>&lt;span class="s1">&amp;#39;,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">|--&lt;/span> &lt;span class="n">autoload_classmap&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">php&lt;/span>&lt;span class="s1">&amp;#39;,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">|--&lt;/span> &lt;span class="n">autoload_namespaces&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">php&lt;/span>&lt;span class="s1">&amp;#39;,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">|--&lt;/span> &lt;span class="n">autoload_psr4&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">php&lt;/span>&lt;span class="s1">&amp;#39;,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">|--&lt;/span> &lt;span class="n">autoload_real&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">php&lt;/span>&lt;span class="s1">&amp;#39;,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">|--&lt;/span> &lt;span class="n">autoload_static&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">php&lt;/span>&lt;span class="s1">&amp;#39;,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">|--&lt;/span> &lt;span class="n">ClassLoader&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">php&lt;/span>&lt;span class="s1">&amp;#39;,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">|--&lt;/span> &lt;span class="n">installed&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">json&lt;/span>&lt;span class="s1">&amp;#39;,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">|--&lt;/span> &lt;span class="n">installed&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">php&lt;/span>&lt;span class="s1">&amp;#39;,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">|--&lt;/span> &lt;span class="n">InstalledVersions&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">php&lt;/span>&lt;span class="s1">&amp;#39;,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">|--&lt;/span> &lt;span class="n">LICENSE&lt;/span>&lt;span class="s1">&amp;#39;,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">|--&lt;/span> &lt;span class="n">platform_check&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">php&lt;/span>&lt;span class="s1">&amp;#39;,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>此时这个composer包没有任何内容，我们需要给他添加一个测试的功能代码&lt;/p>
&lt;p>新建功能代码之前需要在composer.json添加pst-4自动加载配置，在项目根目录composer.json添加以下代码：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;autoload&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;psr-4&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;Test&lt;/span>&lt;span class="se">\\&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;src/&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>然后在项目根目录新建src 目录，在src目录下Test.php文件，文件内容为：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">&amp;lt;?php
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">namespace Test;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">class Test
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">{
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> public function index()
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> echo &amp;#39;composer包测试成功&amp;#39;;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>然后执行&lt;code> composer dump-autoload&lt;/code>命令 自动加载类映射 生成配置，具体配置内容在vendor/composer/autoload_psr4.php 文件中&lt;/p>
&lt;p>最后在根目录下新建一个index.php文件测试，内容为：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="err">?&lt;/span>&lt;span class="n">php&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">require&lt;/span> &lt;span class="s2">&amp;#34;vendor/autoload.php&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">use&lt;/span> &lt;span class="n">Test&lt;/span>\&lt;span class="n">Test&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">$&lt;/span>&lt;span class="n">Test&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">new&lt;/span> &lt;span class="n">Test&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">$&lt;/span>&lt;span class="n">Test&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">index&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>使用PHP 命令运行这个index.php 文件：&lt;/p>
&lt;p>&lt;img src="https://blog.tuwei.space/p/%E5%88%B6%E4%BD%9C%E8%87%AA%E5%B7%B1%E7%9A%84composer%E5%8C%85%E6%90%AD%E5%BB%BAsatis%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93/run.png"
width="544"
height="60"
srcset="https://blog.tuwei.space/p/%E5%88%B6%E4%BD%9C%E8%87%AA%E5%B7%B1%E7%9A%84composer%E5%8C%85%E6%90%AD%E5%BB%BAsatis%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93/run_hucb6572996b2af1555d6db55b0719ae6b_4170_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E5%88%B6%E4%BD%9C%E8%87%AA%E5%B7%B1%E7%9A%84composer%E5%8C%85%E6%90%AD%E5%BB%BAsatis%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93/run_hucb6572996b2af1555d6db55b0719ae6b_4170_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="906"
data-flex-basis="2176px"
>&lt;/p>
&lt;p>测试成功！&lt;/p>
&lt;h1 id="上传github">上传GitHub
&lt;/h1>&lt;p>项目需要公开，首先新建一个Git仓库
&lt;img src="https://blog.tuwei.space/p/%E5%88%B6%E4%BD%9C%E8%87%AA%E5%B7%B1%E7%9A%84composer%E5%8C%85%E6%90%AD%E5%BB%BAsatis%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93/git-init.png"
width="1497"
height="530"
srcset="https://blog.tuwei.space/p/%E5%88%B6%E4%BD%9C%E8%87%AA%E5%B7%B1%E7%9A%84composer%E5%8C%85%E6%90%AD%E5%BB%BAsatis%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93/git-init_huccad3e42d8b0a16bdbdd35360c14f57a_48461_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E5%88%B6%E4%BD%9C%E8%87%AA%E5%B7%B1%E7%9A%84composer%E5%8C%85%E6%90%AD%E5%BB%BAsatis%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93/git-init_huccad3e42d8b0a16bdbdd35360c14f57a_48461_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="282"
data-flex-basis="677px"
>&lt;/p>
&lt;p>把刚刚制作的composer 项目全部代码上传&lt;/p>
&lt;p>&lt;img src="https://blog.tuwei.space/p/%E5%88%B6%E4%BD%9C%E8%87%AA%E5%B7%B1%E7%9A%84composer%E5%8C%85%E6%90%AD%E5%BB%BAsatis%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93/name-tree.png"
width="688"
height="486"
srcset="https://blog.tuwei.space/p/%E5%88%B6%E4%BD%9C%E8%87%AA%E5%B7%B1%E7%9A%84composer%E5%8C%85%E6%90%AD%E5%BB%BAsatis%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93/name-tree_hu8e9980611b362068f9d73122b1d80e4a_20198_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E5%88%B6%E4%BD%9C%E8%87%AA%E5%B7%B1%E7%9A%84composer%E5%8C%85%E6%90%AD%E5%BB%BAsatis%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93/name-tree_hu8e9980611b362068f9d73122b1d80e4a_20198_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="141"
data-flex-basis="339px"
>&lt;/p>
&lt;p>依次执行以下Git命令就上传成功了&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">git init
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git add .
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git commit -m &amp;#39;first commit&amp;#39;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git branch -M main
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git remote add origin git@github.com:koala9527/composer-test.git
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git push -u origin main
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h1 id="搭建satis仓库">搭建satis仓库
&lt;/h1>&lt;p>satis是Composer 官方提供的建立私有源的工具，比较简单，原理就是把Git仓库里的composer 包拉取下来制作成静态文件，然后需要自己通过Nginx镜像容器部署形成一个简单的UI界面，进行composer包的分发下载的服务&lt;/p>
&lt;p>这里只做一个最简单的尝试，没有权限验证的配置&lt;/p>
&lt;p>首先是需要一个公网的机器&lt;/p>
&lt;p>选定一个空白文件夹新建一个satis.json配置文件。内容如下(/home/satis/build/satis.json)：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">{
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;name&amp;#34;: &amp;#34;koala/composer-test&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;homepage&amp;#34;: &amp;#34;http://satis.tuwei.space&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;repositories&amp;#34;: [
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {&amp;#34;type&amp;#34;: &amp;#34;vcs&amp;#34;, &amp;#34;url&amp;#34;: &amp;#34;https://github.com/koala9527/composer-test&amp;#34; }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ],
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;require-all&amp;#34;: true
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>注意：&lt;/p>
&lt;ol>
&lt;li>
&lt;p>json配置文件中name字段必须是在composer包创建时的vendor/package的内容，否则无法初始化&lt;/p>
&lt;/li>
&lt;li>
&lt;p>homepage 是satis仓库的访问域名地址，也就是自己私有源的地址&lt;/p>
&lt;/li>
&lt;li>
&lt;p>repositories就是配置自己的GitHub项目地址，这里可以配置成一个列表，包含多个composer包。vcs的意思是版本控制系统&lt;/p>
&lt;/li>
&lt;li>
&lt;p>require-all 拉取全部包&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>使用composer/satis 镜像拉取GitHub内容打包静态文件和UI界面：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker run --rm -it -v /home/satis/build:/build -v /home/satis/composer:/composer composer/satis
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>主要参数是&lt;code>--rm&lt;/code> ，容器只运行一次，退出时删除。&lt;/p>
&lt;p>在宿主机/home/satis/build目录下会生成output 文件夹，此时把这个文件通过Nginx容器运行起来，然后通过域名解析，satis私有仓库就搭建完成了
&lt;img src="https://blog.tuwei.space/p/%E5%88%B6%E4%BD%9C%E8%87%AA%E5%B7%B1%E7%9A%84composer%E5%8C%85%E6%90%AD%E5%BB%BAsatis%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93/output.png"
width="375"
height="40"
srcset="https://blog.tuwei.space/p/%E5%88%B6%E4%BD%9C%E8%87%AA%E5%B7%B1%E7%9A%84composer%E5%8C%85%E6%90%AD%E5%BB%BAsatis%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93/output_hu3374799b080a3402a017e72703347a7e_2855_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E5%88%B6%E4%BD%9C%E8%87%AA%E5%B7%B1%E7%9A%84composer%E5%8C%85%E6%90%AD%E5%BB%BAsatis%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93/output_hu3374799b080a3402a017e72703347a7e_2855_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="937"
data-flex-basis="2250px"
>&lt;/p>
&lt;p>通过Nginx镜像运行静态UI界面&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker run -itd --name=nginx_satis -p 8881:80 -v /home/satis/build/output:/usr/share/nginx/html nginx
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>域名解析到宿主机8881端口，这里通过自己服务中的宝塔反向代理解析，现在访问域名：&lt;/p>
&lt;p>&lt;strong>satis.tuwei.space&lt;/strong>&lt;/p>
&lt;p>&lt;img src="https://blog.tuwei.space/p/%E5%88%B6%E4%BD%9C%E8%87%AA%E5%B7%B1%E7%9A%84composer%E5%8C%85%E6%90%AD%E5%BB%BAsatis%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93/web-ui.png"
width="1365"
height="591"
srcset="https://blog.tuwei.space/p/%E5%88%B6%E4%BD%9C%E8%87%AA%E5%B7%B1%E7%9A%84composer%E5%8C%85%E6%90%AD%E5%BB%BAsatis%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93/web-ui_hu4ea0f599194ef49af2b13c42209a2f72_36715_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E5%88%B6%E4%BD%9C%E8%87%AA%E5%B7%B1%E7%9A%84composer%E5%8C%85%E6%90%AD%E5%BB%BAsatis%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93/web-ui_hu4ea0f599194ef49af2b13c42209a2f72_36715_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="230"
data-flex-basis="554px"
>&lt;/p>
&lt;h1 id="测试">测试
&lt;/h1>&lt;p>拿一个不重要的Hyperf项目测试，项目根目录下composer.json文件添加私有源配置：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">&amp;#34;repositories&amp;#34;: [
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;type&amp;#34;: &amp;#34;composer&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;url&amp;#34;: &amp;#34;http://satis.tuwei.space&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">]
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>还可以更换全局的composer 源来拉取这个私有composer包：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">composer config -g repo.packagist composer http://satis.tuwei.space
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>自己的私有仓库是http协议，需要取消安全检查，不然在composer require 命令会报错：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">composer config -g secure-http false
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>使用&lt;code>composer require&lt;/code> 拉取私有包：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">composer require koala/composer-test
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://blog.tuwei.space/p/%E5%88%B6%E4%BD%9C%E8%87%AA%E5%B7%B1%E7%9A%84composer%E5%8C%85%E6%90%AD%E5%BB%BAsatis%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93/composer-require.png"
width="758"
height="422"
srcset="https://blog.tuwei.space/p/%E5%88%B6%E4%BD%9C%E8%87%AA%E5%B7%B1%E7%9A%84composer%E5%8C%85%E6%90%AD%E5%BB%BAsatis%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93/composer-require_huc1f1854868d6a408b0069954e8859b3e_59547_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E5%88%B6%E4%BD%9C%E8%87%AA%E5%B7%B1%E7%9A%84composer%E5%8C%85%E6%90%AD%E5%BB%BAsatis%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93/composer-require_huc1f1854868d6a408b0069954e8859b3e_59547_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="179"
data-flex-basis="431px"
>&lt;/p>
&lt;h1 id="参考教程">参考教程
&lt;/h1>&lt;p>&lt;a class="link" href="https://hub.docker.com/r/composer/satis" target="_blank" rel="noopener"
>https://hub.docker.com/r/composer/satis&lt;/a>&lt;br>
&lt;a class="link" href="https://zhuanlan.zhihu.com/p/542952527" target="_blank" rel="noopener"
>https://zhuanlan.zhihu.com/p/542952527&lt;/a>&lt;/p></description></item><item><title>记录搭建Hugo 博客，使用stack主题快速启动部署</title><link>https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E6%90%AD%E5%BB%BAhugo-%E5%8D%9A%E5%AE%A2%E4%BD%BF%E7%94%A8stack%E4%B8%BB%E9%A2%98%E5%BF%AB%E9%80%9F%E5%90%AF%E5%8A%A8%E9%83%A8%E7%BD%B2/</link><pubDate>Sat, 07 Jan 2023 20:33:43 +0800</pubDate><guid>https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E6%90%AD%E5%BB%BAhugo-%E5%8D%9A%E5%AE%A2%E4%BD%BF%E7%94%A8stack%E4%B8%BB%E9%A2%98%E5%BF%AB%E9%80%9F%E5%90%AF%E5%8A%A8%E9%83%A8%E7%BD%B2/</guid><description>&lt;img src="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E6%90%AD%E5%BB%BAhugo-%E5%8D%9A%E5%AE%A2%E4%BD%BF%E7%94%A8stack%E4%B8%BB%E9%A2%98%E5%BF%AB%E9%80%9F%E5%90%AF%E5%8A%A8%E9%83%A8%E7%BD%B2/stack.png" alt="Featured image of post 记录搭建Hugo 博客，使用stack主题快速启动部署" />&lt;h1 id="为什么要写博客">为什么要写博客
&lt;/h1>&lt;p>2022年结束，写了一篇年终报告，回顾发现记录总结是一个非常重要的事情，在接下来的时间需要把这件事养成一个习惯，不断记录，思考，积累 进步。&lt;/p>
&lt;h1 id="选择hugo">选择Hugo
&lt;/h1>&lt;p>Hugo 比较偏向后端，编译速度非常快，就这么简单。&lt;/p>
&lt;h1 id="简单记录一下过程">简单记录一下过程
&lt;/h1>&lt;p>首要任务是选择一个简单好看的主题：&lt;a class="link" href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener"
>hugo-theme-stack&lt;/a>&lt;/p>
&lt;p>&lt;img src="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E6%90%AD%E5%BB%BAhugo-%E5%8D%9A%E5%AE%A2%E4%BD%BF%E7%94%A8stack%E4%B8%BB%E9%A2%98%E5%BF%AB%E9%80%9F%E5%90%AF%E5%8A%A8%E9%83%A8%E7%BD%B2/stack.png"
width="1477"
height="814"
srcset="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E6%90%AD%E5%BB%BAhugo-%E5%8D%9A%E5%AE%A2%E4%BD%BF%E7%94%A8stack%E4%B8%BB%E9%A2%98%E5%BF%AB%E9%80%9F%E5%90%AF%E5%8A%A8%E9%83%A8%E7%BD%B2/stack_hu2fcf86eed2264053012faaf0a9c52a98_99085_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E6%90%AD%E5%BB%BAhugo-%E5%8D%9A%E5%AE%A2%E4%BD%BF%E7%94%A8stack%E4%B8%BB%E9%A2%98%E5%BF%AB%E9%80%9F%E5%90%AF%E5%8A%A8%E9%83%A8%E7%BD%B2/stack_hu2fcf86eed2264053012faaf0a9c52a98_99085_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="181"
data-flex-basis="435px"
>&lt;/p>
&lt;p>这个主题最初是在V2EX 看到的，挺小清新的，符合现代审美。然后在Hugo的官方主题商店看到了它。&lt;/p>
&lt;p>&lt;img src="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E6%90%AD%E5%BB%BAhugo-%E5%8D%9A%E5%AE%A2%E4%BD%BF%E7%94%A8stack%E4%B8%BB%E9%A2%98%E5%BF%AB%E9%80%9F%E5%90%AF%E5%8A%A8%E9%83%A8%E7%BD%B2/store.png"
width="1899"
height="935"
srcset="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E6%90%AD%E5%BB%BAhugo-%E5%8D%9A%E5%AE%A2%E4%BD%BF%E7%94%A8stack%E4%B8%BB%E9%A2%98%E5%BF%AB%E9%80%9F%E5%90%AF%E5%8A%A8%E9%83%A8%E7%BD%B2/store_hudf71c8fd6c8668af6b27945855bcddab_364538_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E6%90%AD%E5%BB%BAhugo-%E5%8D%9A%E5%AE%A2%E4%BD%BF%E7%94%A8stack%E4%B8%BB%E9%A2%98%E5%BF%AB%E9%80%9F%E5%90%AF%E5%8A%A8%E9%83%A8%E7%BD%B2/store_hudf71c8fd6c8668af6b27945855bcddab_364538_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="203"
data-flex-basis="487px"
>&lt;/p>
&lt;p>看起来主题的亮色模式有点太白了，有些文字看得不是很清楚，后面再想办法调整一下。&lt;/p>
&lt;p>一开始看Hugo官方文档使用命令行新建一个Hugo项目再添加这个主题，因为有一些设置覆盖，一直没弄好，后面参考文档直接使用了这个主题的快速入门模板项目，
直接拉下来，调整配置直接运行起来了，目前使用项目自带的GitHub Action地配置搭配了一个二级域名部署在了GitHub Page上了。&lt;/p>
&lt;p>接下来仔细说说自己做了那些事，改了哪些东西。因为没有参考任何的教程，查找地相关教程都比较笼统，没有针对这个主题的教程，所以下面的内容全都是自己折腾实验的。&lt;/p>
&lt;h2 id="改配置">改配置
&lt;/h2>&lt;p>快速启动模板的GitHub 地址：&lt;/p>
&lt;p>&lt;a class="link" href="https://github.com/CaiJimmy/hugo-theme-stack-starter" target="_blank" rel="noopener"
>CaiJimmy/hugo-theme-stack-starter&lt;/a>&lt;/p>
&lt;p>&lt;code>git clone https://github.com/CaiJimmy/hugo-theme-stack-starter&lt;/code>&lt;/p>
&lt;p>先把代码拉下来，所有的配置文件都在/config/_default 文件夹内，配置文件有很多，自己修改了其中个别几个，下面详细讲讲。&lt;/p>
&lt;h3 id="configtoml">config.toml
&lt;/h3>&lt;p>博客的基本信息&lt;/p>
&lt;p>标题，用户名，部署的域名，语言&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-toml" data-lang="toml">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">baseurl&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;https://blog.tuwei.space&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">languageCode&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;zh-Hans&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">paginate&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">5&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">title&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;koala9527的博客&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">DefaultContentLanguage&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;zh-cn&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">hasCJKLanguage&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"># Change it to your Disqus shortname before using&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">disqusShortname&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;koala9527&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="menutoml">menu.toml
&lt;/h3>&lt;p>博客菜单&lt;/p>
&lt;p>删掉了Twitter联系方式，更改GitHub地址，没有什么拿得出手的，就留这个吧。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-toml" data-lang="toml">&lt;span class="line">&lt;span class="cl">&lt;span class="p">[[&lt;/span>&lt;span class="nx">social&lt;/span>&lt;span class="p">]]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">identifier&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;github&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">name&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;GitHub&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">url&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;https://github.com/koala9527&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="nx">social&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">params&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">icon&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;brand-github&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="paramstoml">params.toml
&lt;/h3>&lt;p>杂项，很多配置，没有仔细研究&lt;/p>
&lt;p>我只改了两项，个性签名和头像。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-toml" data-lang="toml">&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="nx">sidebar&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">emoji&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;🍥&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">subtitle&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;悟已往之不谏,知来者知可追&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="nx">sidebar&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">avatar&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">enabled&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">local&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">src&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;img/avatar.jpg&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这里需要注意的是头像的文件位置，需要在项目根目录新建一个assets/img文件夹，把头像的图片文件放进去，官方文档是这么说的：
&lt;img src="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E6%90%AD%E5%BB%BAhugo-%E5%8D%9A%E5%AE%A2%E4%BD%BF%E7%94%A8stack%E4%B8%BB%E9%A2%98%E5%BF%AB%E9%80%9F%E5%90%AF%E5%8A%A8%E9%83%A8%E7%BD%B2/ava_img.png"
width="1394"
height="437"
srcset="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E6%90%AD%E5%BB%BAhugo-%E5%8D%9A%E5%AE%A2%E4%BD%BF%E7%94%A8stack%E4%B8%BB%E9%A2%98%E5%BF%AB%E9%80%9F%E5%90%AF%E5%8A%A8%E9%83%A8%E7%BD%B2/ava_img_hu42c8a8495689e72ad38ddeb05ee592ba_51810_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E6%90%AD%E5%BB%BAhugo-%E5%8D%9A%E5%AE%A2%E4%BD%BF%E7%94%A8stack%E4%B8%BB%E9%A2%98%E5%BF%AB%E9%80%9F%E5%90%AF%E5%8A%A8%E9%83%A8%E7%BD%B2/ava_img_hu42c8a8495689e72ad38ddeb05ee592ba_51810_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="官方文档"
class="gallery-image"
data-flex-grow="318"
data-flex-basis="765px"
>&lt;/p>
&lt;h2 id="部署">部署
&lt;/h2>&lt;p>先要在GitHub 新建一个公开的项目，我的自己项目地址：
&lt;a class="link" href="https://github.com/koala9527/my-hugo-blog" target="_blank" rel="noopener"
>koala9527/my-hugo-blog&lt;/a>&lt;/p>
&lt;p>此时需要注意推送的分支需要和快速启动模板内.github/deploy.yml文件的CI触发的分支一致。&lt;/p>
&lt;p>我一开始没看见注意使用的是main这个名字，项目中的出发分支名称是master无法触发自动部署。&lt;/p>
&lt;p>&lt;img src="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E6%90%AD%E5%BB%BAhugo-%E5%8D%9A%E5%AE%A2%E4%BD%BF%E7%94%A8stack%E4%B8%BB%E9%A2%98%E5%BF%AB%E9%80%9F%E5%90%AF%E5%8A%A8%E9%83%A8%E7%BD%B2/img.png"
width="1342"
height="695"
srcset="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E6%90%AD%E5%BB%BAhugo-%E5%8D%9A%E5%AE%A2%E4%BD%BF%E7%94%A8stack%E4%B8%BB%E9%A2%98%E5%BF%AB%E9%80%9F%E5%90%AF%E5%8A%A8%E9%83%A8%E7%BD%B2/img_hu458eb369470e246dd2cbf4aa6fcc4b8a_51451_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E6%90%AD%E5%BB%BAhugo-%E5%8D%9A%E5%AE%A2%E4%BD%BF%E7%94%A8stack%E4%B8%BB%E9%A2%98%E5%BF%AB%E9%80%9F%E5%90%AF%E5%8A%A8%E9%83%A8%E7%BD%B2/img_hu458eb369470e246dd2cbf4aa6fcc4b8a_51451_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img.png"
class="gallery-image"
data-flex-grow="193"
data-flex-basis="463px"
>&lt;/p>
&lt;p>接着把本地修改的内容全部提交到刚刚新建的Github仓库，注意分支，Git仓库会触发Github Action自动新建一个gh-page的分支。&lt;/p>
&lt;h3 id="解析域名">解析域名
&lt;/h3>&lt;p>点击项目的Settings-&amp;gt;pages&lt;/p>
&lt;p>设置部署构建来源设置成来自分支&lt;/p>
&lt;p>分支名称为gh-pages&lt;br>
&lt;img src="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E6%90%AD%E5%BB%BAhugo-%E5%8D%9A%E5%AE%A2%E4%BD%BF%E7%94%A8stack%E4%B8%BB%E9%A2%98%E5%BF%AB%E9%80%9F%E5%90%AF%E5%8A%A8%E9%83%A8%E7%BD%B2/img_1.png"
width="1387"
height="785"
srcset="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E6%90%AD%E5%BB%BAhugo-%E5%8D%9A%E5%AE%A2%E4%BD%BF%E7%94%A8stack%E4%B8%BB%E9%A2%98%E5%BF%AB%E9%80%9F%E5%90%AF%E5%8A%A8%E9%83%A8%E7%BD%B2/img_1_hu70bb24ffaefe7ac2964550c31ab8cc0f_64777_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E6%90%AD%E5%BB%BAhugo-%E5%8D%9A%E5%AE%A2%E4%BD%BF%E7%94%A8stack%E4%B8%BB%E9%A2%98%E5%BF%AB%E9%80%9F%E5%90%AF%E5%8A%A8%E9%83%A8%E7%BD%B2/img_1_hu70bb24ffaefe7ac2964550c31ab8cc0f_64777_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_1.png"
class="gallery-image"
data-flex-grow="176"
data-flex-basis="424px"
>&lt;/p>
&lt;p>然后再设置一个自定义域名&lt;/p>
&lt;p>&lt;img src="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E6%90%AD%E5%BB%BAhugo-%E5%8D%9A%E5%AE%A2%E4%BD%BF%E7%94%A8stack%E4%B8%BB%E9%A2%98%E5%BF%AB%E9%80%9F%E5%90%AF%E5%8A%A8%E9%83%A8%E7%BD%B2/img_2.png"
width="1419"
height="240"
srcset="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E6%90%AD%E5%BB%BAhugo-%E5%8D%9A%E5%AE%A2%E4%BD%BF%E7%94%A8stack%E4%B8%BB%E9%A2%98%E5%BF%AB%E9%80%9F%E5%90%AF%E5%8A%A8%E9%83%A8%E7%BD%B2/img_2_hudf54ff414defa1d0049c65812c19a9a5_12149_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E6%90%AD%E5%BB%BAhugo-%E5%8D%9A%E5%AE%A2%E4%BD%BF%E7%94%A8stack%E4%B8%BB%E9%A2%98%E5%BF%AB%E9%80%9F%E5%90%AF%E5%8A%A8%E9%83%A8%E7%BD%B2/img_2_hudf54ff414defa1d0049c65812c19a9a5_12149_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_2.png"
class="gallery-image"
data-flex-grow="591"
data-flex-basis="1419px"
>
设置域名过后需要在域名DNS服务商设置DNS解析。&lt;/p>
&lt;p>上面是是Git账号的域名解析，不确定是不是必须的，在账号设置下的page菜单中添加，添加过后会提示需要一个TXT类型域名解析用来 验证域名的所有权。
&lt;img src="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E6%90%AD%E5%BB%BAhugo-%E5%8D%9A%E5%AE%A2%E4%BD%BF%E7%94%A8stack%E4%B8%BB%E9%A2%98%E5%BF%AB%E9%80%9F%E5%90%AF%E5%8A%A8%E9%83%A8%E7%BD%B2/img_3.png"
width="1350"
height="843"
srcset="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E6%90%AD%E5%BB%BAhugo-%E5%8D%9A%E5%AE%A2%E4%BD%BF%E7%94%A8stack%E4%B8%BB%E9%A2%98%E5%BF%AB%E9%80%9F%E5%90%AF%E5%8A%A8%E9%83%A8%E7%BD%B2/img_3_hub4fe5d051178aca2f120163e856e4bff_39098_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E6%90%AD%E5%BB%BAhugo-%E5%8D%9A%E5%AE%A2%E4%BD%BF%E7%94%A8stack%E4%B8%BB%E9%A2%98%E5%BF%AB%E9%80%9F%E5%90%AF%E5%8A%A8%E9%83%A8%E7%BD%B2/img_3_hub4fe5d051178aca2f120163e856e4bff_39098_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_3.png"
class="gallery-image"
data-flex-grow="160"
data-flex-basis="384px"
>&lt;/p>
&lt;p>下面是项目的自定义域名解析，是一个二级域名，二级域名记录为blog，解析内容为koala9527.github.io ,记录类型为CNAME,koala9527为我自己的Github名称。
&lt;img src="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E6%90%AD%E5%BB%BAhugo-%E5%8D%9A%E5%AE%A2%E4%BD%BF%E7%94%A8stack%E4%B8%BB%E9%A2%98%E5%BF%AB%E9%80%9F%E5%90%AF%E5%8A%A8%E9%83%A8%E7%BD%B2/img_4.png"
width="770"
height="279"
srcset="https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E6%90%AD%E5%BB%BAhugo-%E5%8D%9A%E5%AE%A2%E4%BD%BF%E7%94%A8stack%E4%B8%BB%E9%A2%98%E5%BF%AB%E9%80%9F%E5%90%AF%E5%8A%A8%E9%83%A8%E7%BD%B2/img_4_hu3fea66b6428f3aadf388f653134fa541_15812_480x0_resize_box_3.png 480w, https://blog.tuwei.space/p/%E8%AE%B0%E5%BD%95%E6%90%AD%E5%BB%BAhugo-%E5%8D%9A%E5%AE%A2%E4%BD%BF%E7%94%A8stack%E4%B8%BB%E9%A2%98%E5%BF%AB%E9%80%9F%E5%90%AF%E5%8A%A8%E9%83%A8%E7%BD%B2/img_4_hu3fea66b6428f3aadf388f653134fa541_15812_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="img_4.png"
class="gallery-image"
data-flex-grow="275"
data-flex-basis="662px"
>
到此为止，整个博客的从零开始到上线部署就完成了。&lt;/p>
&lt;h1 id="写在最后">写在最后
&lt;/h1>&lt;p>GitHub的访问貌似有一点慢，后面考虑部署到CDN上面吧，静态页面博客部署，访问，迁移非常地方便快速，这些优点就非常明显！&lt;/p></description></item></channel></rss>